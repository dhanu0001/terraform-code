{"version":3,"sources":["webpack://app/../node_modules/react-virtualized-auto-sizer/dist/index.esm.js","webpack://app/../node_modules/react-window/dist/index.esm.js","webpack://app/javascript/node_modules/@backstage/core-components/node_modules/ansi-regex/index.js","webpack://app/../node_modules/@react-hookz/web/esm/useToggle/useToggle.js","webpack://app/../node_modules/@backstage/core-components/dist/esm/RealLogViewer-65b49fde.esm.js","webpack://app/../node_modules/@react-hookz/web/esm/useSafeState/useSafeState.js"],"names":["classCallCheck","instance","Constructor","createClass","defineProperties","target","props","i","descriptor","protoProps","staticProps","_extends","source","key","inherits","subClass","superClass","possibleConstructorReturn","self","call","slicedToArray","sliceIterator","arr","_arr","_n","_d","_e","_i","_s","err","windowObject","cancelFrame","requestFrame","TIMEOUT_DURATION","clearTimeoutFn","setTimeoutFn","cancelAnimationFrameFn","requestAnimationFrameFn","callback","_ref","_ref2","animationFrameID","timeoutID","createDetectElementResize","nonce","animationKeyframes","animationName","animationStartEvent","animationStyle","checkTriggers","resetTriggers","scrollListener","attachEvent","element","triggers","expand","contract","expandChild","e","fn","animation","keyframeprefix","domPrefixes","startEvents","pfx","elm","createStyles","doc","css","head","style","addResizeListener","elementStyle","expandTrigger","contractTrigger","removeResizeListener","AutoSizer","_React$PureComponent","_temp","_this","_ret","_len","args","_key","_this$props","disableHeight","disableWidth","onResize","_height","_width","_style","paddingLeft","paddingRight","paddingTop","paddingBottom","newHeight","newWidth","autoSizer","_props","children","className","_state","height","width","outerStyle","childParams","bailoutOnChildren","hasNativePerformanceNow","now","cancelTimeout","requestTimeout","delay","start","tick","size","getScrollbarSize","recalculate","div","cachedRTLResult","getRTLOffsetType","outerDiv","innerDiv","innerStyle","IS_SCROLLING_DEBOUNCE_INTERVAL","defaultItemKey","columnIndex","data","rowIndex","devWarningsOverscanCount","devWarningsOverscanRowsColumnsCount","devWarningsTagName","createGridComponent","_class","getColumnOffset","getColumnStartIndexForOffset","getColumnStopIndexForStartIndex","getColumnWidth","getEstimatedTotalHeight","getEstimatedTotalWidth","getOffsetForColumnAndAlignment","getOffsetForRowAndAlignment","getRowHeight","getRowOffset","getRowStartIndexForOffset","getRowStopIndexForStartIndex","initInstanceProps","shouldResetStyleCacheOnItemSizeChange","validateProps","_PureComponent","Grid","overscanColumnStartIndex","overscanColumnStopIndex","overscanRowStartIndex","overscanRowStopIndex","visibleColumnStartIndex","visibleColumnStopIndex","visibleRowStartIndex","visibleRowStopIndex","scrollLeft","scrollTop","horizontalScrollDirection","verticalScrollDirection","scrollUpdateWasRequested","columnWidth","direction","rowHeight","itemStyleCache","_offset","isRtl","_","__","___","event","_event$currentTarget","clientHeight","clientWidth","scrollHeight","scrollWidth","prevState","calculatedScrollLeft","calculatedScrollTop","ref","outerRef","nextProps","validateSharedProps","_proto","_ref3","_ref4","_ref4$align","align","_this$props2","columnCount","rowCount","_this$state","scrollbarSize","estimatedTotalHeight","estimatedTotalWidth","horizontalScrollbarSize","verticalScrollbarSize","_this$props3","initialScrollLeft","initialScrollTop","_this$state2","_this$props4","innerRef","innerElementType","innerTagName","itemData","_this$props4$itemKey","itemKey","outerElementType","outerTagName","useIsScrolling","isScrolling","_this$_getHorizontalR","columnStartIndex","columnStopIndex","_this$_getVerticalRan","rowStartIndex","rowStopIndex","items","_rowIndex","_columnIndex","_this$props5","onItemsRendered","onScroll","_this$_getHorizontalR2","_overscanColumnStartIndex","_overscanColumnStopIndex","_visibleColumnStartIndex","_visibleColumnStopIndex","_this$_getVerticalRan2","_overscanRowStartIndex","_overscanRowStopIndex","_visibleRowStartIndex","_visibleRowStopIndex","_this$state3","_horizontalScrollDirection","_scrollLeft","_scrollTop","_scrollUpdateWasRequested","_verticalScrollDirection","_this$props6","overscanColumnCount","overscanColumnsCount","overscanCount","_this$state4","overscanCountResolved","startIndex","stopIndex","overscanBackward","overscanForward","_this$props7","overscanRowCount","overscanRowsCount","_this$state5","_ref5","_ref6","DEFAULT_ESTIMATED_ITEM_SIZE","rowMetadataMap","estimatedRowHeight","lastMeasuredRowIndex","totalSizeOfMeasuredRows","itemMetadata","numUnmeasuredItems","totalSizeOfUnmeasuredItems","columnMetadataMap","estimatedColumnWidth","lastMeasuredColumnIndex","getItemMetadata","itemType","index","instanceProps","itemMetadataMap","itemSize","lastMeasuredIndex","offset","findNearestItem","lastMeasuredItemOffset","findNearestItemBinarySearch","findNearestItemExponentialSearch","high","low","middle","currentOffset","itemCount","interval","getOffsetForIndexAndAlignment","scrollOffset","estimatedTotalSize","maxOffset","minOffset","VariableSizeGrid","shouldForceUpdate","_ref6$shouldForceUpda","_ref7","IS_SCROLLING_DEBOUNCE_INTERVAL$1","defaultItemKey$1","devWarningsDirection","devWarningsTagName$1","createListComponent","getItemOffset","getEstimatedTotalSize","getItemSize","getStartIndexForOffset","getStopIndexForStartIndex","List","overscanStartIndex","overscanStopIndex","visibleStartIndex","visibleStopIndex","scrollDirection","layout","isHorizontal","offsetHorizontal","_event$currentTarget2","validateSharedProps$1","initialScrollOffset","_this$props5$itemKey","_this$_getRangeToRend","_index","_this$_getRangeToRend2","_overscanStartIndex","_overscanStopIndex","_visibleStartIndex","_visibleStopIndex","_scrollDirection","_scrollOffset","DEFAULT_ESTIMATED_ITEM_SIZE$1","getItemMetadata$1","findNearestItem$1","findNearestItemBinarySearch$1","findNearestItemExponentialSearch$1","estimatedItemSize","totalSizeOfMeasuredItems","VariableSizeList","FixedSizeGrid","lastColumnOffset","middleOffset","_ref8","lastRowOffset","_ref9","_ref10","left","numVisibleColumns","_ref11","_ref12","top","numVisibleRows","_ref13","FixedSizeList","lastItemOffset","numVisibleItems","shallowDiffers","prev","next","attribute","_attribute","_excluded","_excluded2","areEqual","prevProps","prevStyle","prevRest","nextStyle","nextRest","shouldComponentUpdate","nextState","ansiRegex","onlyFirst","pattern","useToggle","initialState","ignoreReactEvents","_a","useSafeState","state","setState","ignoreReactEventsRef","useSyncedRef","resolveHookState","newlineRegex","codeModifiers","m","code","modifier","AnsiLine","lineNumber","chunks","c","newChunks","AnsiProcessor","text","modifiers","startingLineNumber","lines","currentModifiers","currentLineNumber","prevIndex","match","chunks2","line","fullText","_b","_c","lastLineIndex","lastLine","lastChunk","newLines","getModifierClasses","classes","classNames","findSearchResults","searchText","searchResults","end","calculateHighlightedChunks","results","lineOffset","resultIndex","result","chunk","localOffset","localStart","localEnd","LogLine","highlightResultIndex","elements","highlight","LogViewerControls","resultCount","resultIndexStep","toggleShouldFilter","handleKeyPress","IconButton","ChevronLeft","Typography","ChevronRight","TextField","FilterList","HEADER_SIZE","useStyles","makeStyles","theme","applySearchFilter","matchingLines","lineResultIndex","useLogViewerSearch","searchInput","setSearchInput","setResultIndex","shouldFilter","filter","searchResult","decrement","useLogViewerSelection","errorApi","sel","setSelection","error","copyToClipboard","useCopyToClipboard","add","s","copyText","l","RealLogViewer","listRef","search","selection","location","handleSelectLine","Box","isMounted","value"],"mappings":"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","file":"static/6304.b5278f09.chunk.js","sourcesContent":["import { createElement, PureComponent } from 'react';\n\nvar classCallCheck = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n\nvar createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar inherits = function (subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n};\n\nvar possibleConstructorReturn = function (self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n};\n\nvar slicedToArray = function () {\n  function sliceIterator(arr, i) {\n    var _arr = [];\n    var _n = true;\n    var _d = false;\n    var _e = undefined;\n\n    try {\n      for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n        _arr.push(_s.value);\n\n        if (i && _arr.length === i) break;\n      }\n    } catch (err) {\n      _d = true;\n      _e = err;\n    } finally {\n      try {\n        if (!_n && _i[\"return\"]) _i[\"return\"]();\n      } finally {\n        if (_d) throw _e;\n      }\n    }\n\n    return _arr;\n  }\n\n  return function (arr, i) {\n    if (Array.isArray(arr)) {\n      return arr;\n    } else if (Symbol.iterator in Object(arr)) {\n      return sliceIterator(arr, i);\n    } else {\n      throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n    }\n  };\n}();\n\n/**\n * Detect Element Resize.\n * https://github.com/sdecima/javascript-detect-element-resize\n * Sebastian Decima\n *\n * Forked from version 0.5.3; includes the following modifications:\n * 1) Guard against unsafe 'window' and 'document' references (to support SSR).\n * 2) Defer initialization code via a top-level function wrapper (to support SSR).\n * 3) Avoid unnecessary reflows by not measuring size for scroll events bubbling from children.\n * 4) Add nonce for style element.\n **/\n\n// Check `document` and `window` in case of server-side rendering\nvar windowObject = void 0;\nif (typeof window !== 'undefined') {\n  windowObject = window;\n\n  // eslint-disable-next-line no-restricted-globals\n} else if (typeof self !== 'undefined') {\n  // eslint-disable-next-line no-restricted-globals\n  windowObject = self;\n} else {\n  windowObject = global;\n}\n\nvar cancelFrame = null;\nvar requestFrame = null;\n\nvar TIMEOUT_DURATION = 20;\n\nvar clearTimeoutFn = windowObject.clearTimeout;\nvar setTimeoutFn = windowObject.setTimeout;\n\nvar cancelAnimationFrameFn = windowObject.cancelAnimationFrame || windowObject.mozCancelAnimationFrame || windowObject.webkitCancelAnimationFrame;\n\nvar requestAnimationFrameFn = windowObject.requestAnimationFrame || windowObject.mozRequestAnimationFrame || windowObject.webkitRequestAnimationFrame;\n\nif (cancelAnimationFrameFn == null || requestAnimationFrameFn == null) {\n  // For environments that don't support animation frame,\n  // fallback to a setTimeout based approach.\n  cancelFrame = clearTimeoutFn;\n  requestFrame = function requestAnimationFrameViaSetTimeout(callback) {\n    return setTimeoutFn(callback, TIMEOUT_DURATION);\n  };\n} else {\n  // Counter intuitively, environments that support animation frames can be trickier.\n  // Chrome's \"Throttle non-visible cross-origin iframes\" flag can prevent rAFs from being called.\n  // In this case, we should fallback to a setTimeout() implementation.\n  cancelFrame = function cancelFrame(_ref) {\n    var _ref2 = slicedToArray(_ref, 2),\n        animationFrameID = _ref2[0],\n        timeoutID = _ref2[1];\n\n    cancelAnimationFrameFn(animationFrameID);\n    clearTimeoutFn(timeoutID);\n  };\n  requestFrame = function requestAnimationFrameWithSetTimeoutFallback(callback) {\n    var animationFrameID = requestAnimationFrameFn(function animationFrameCallback() {\n      clearTimeoutFn(timeoutID);\n      callback();\n    });\n\n    var timeoutID = setTimeoutFn(function timeoutCallback() {\n      cancelAnimationFrameFn(animationFrameID);\n      callback();\n    }, TIMEOUT_DURATION);\n\n    return [animationFrameID, timeoutID];\n  };\n}\n\nfunction createDetectElementResize(nonce) {\n  var animationKeyframes = void 0;\n  var animationName = void 0;\n  var animationStartEvent = void 0;\n  var animationStyle = void 0;\n  var checkTriggers = void 0;\n  var resetTriggers = void 0;\n  var scrollListener = void 0;\n\n  var attachEvent = typeof document !== 'undefined' && document.attachEvent;\n  if (!attachEvent) {\n    resetTriggers = function resetTriggers(element) {\n      var triggers = element.__resizeTriggers__,\n          expand = triggers.firstElementChild,\n          contract = triggers.lastElementChild,\n          expandChild = expand.firstElementChild;\n      contract.scrollLeft = contract.scrollWidth;\n      contract.scrollTop = contract.scrollHeight;\n      expandChild.style.width = expand.offsetWidth + 1 + 'px';\n      expandChild.style.height = expand.offsetHeight + 1 + 'px';\n      expand.scrollLeft = expand.scrollWidth;\n      expand.scrollTop = expand.scrollHeight;\n    };\n\n    checkTriggers = function checkTriggers(element) {\n      return element.offsetWidth !== element.__resizeLast__.width || element.offsetHeight !== element.__resizeLast__.height;\n    };\n\n    scrollListener = function scrollListener(e) {\n      // Don't measure (which forces) reflow for scrolls that happen inside of children!\n      if (e.target.className && typeof e.target.className.indexOf === 'function' && e.target.className.indexOf('contract-trigger') < 0 && e.target.className.indexOf('expand-trigger') < 0) {\n        return;\n      }\n\n      var element = this;\n      resetTriggers(this);\n      if (this.__resizeRAF__) {\n        cancelFrame(this.__resizeRAF__);\n      }\n      this.__resizeRAF__ = requestFrame(function animationFrame() {\n        if (checkTriggers(element)) {\n          element.__resizeLast__.width = element.offsetWidth;\n          element.__resizeLast__.height = element.offsetHeight;\n          element.__resizeListeners__.forEach(function forEachResizeListener(fn) {\n            fn.call(element, e);\n          });\n        }\n      });\n    };\n\n    /* Detect CSS Animations support to detect element display/re-attach */\n    var animation = false;\n    var keyframeprefix = '';\n    animationStartEvent = 'animationstart';\n    var domPrefixes = 'Webkit Moz O ms'.split(' ');\n    var startEvents = 'webkitAnimationStart animationstart oAnimationStart MSAnimationStart'.split(' ');\n    var pfx = '';\n    {\n      var elm = document.createElement('fakeelement');\n      if (elm.style.animationName !== undefined) {\n        animation = true;\n      }\n\n      if (animation === false) {\n        for (var i = 0; i < domPrefixes.length; i++) {\n          if (elm.style[domPrefixes[i] + 'AnimationName'] !== undefined) {\n            pfx = domPrefixes[i];\n            keyframeprefix = '-' + pfx.toLowerCase() + '-';\n            animationStartEvent = startEvents[i];\n            animation = true;\n            break;\n          }\n        }\n      }\n    }\n\n    animationName = 'resizeanim';\n    animationKeyframes = '@' + keyframeprefix + 'keyframes ' + animationName + ' { from { opacity: 0; } to { opacity: 0; } } ';\n    animationStyle = keyframeprefix + 'animation: 1ms ' + animationName + '; ';\n  }\n\n  var createStyles = function createStyles(doc) {\n    if (!doc.getElementById('detectElementResize')) {\n      //opacity:0 works around a chrome bug https://code.google.com/p/chromium/issues/detail?id=286360\n      var css = (animationKeyframes ? animationKeyframes : '') + '.resize-triggers { ' + (animationStyle ? animationStyle : '') + 'visibility: hidden; opacity: 0; } ' + '.resize-triggers, .resize-triggers > div, .contract-trigger:before { content: \" \"; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',\n          head = doc.head || doc.getElementsByTagName('head')[0],\n          style = doc.createElement('style');\n\n      style.id = 'detectElementResize';\n      style.type = 'text/css';\n\n      if (nonce != null) {\n        style.setAttribute('nonce', nonce);\n      }\n\n      if (style.styleSheet) {\n        style.styleSheet.cssText = css;\n      } else {\n        style.appendChild(doc.createTextNode(css));\n      }\n\n      head.appendChild(style);\n    }\n  };\n\n  var addResizeListener = function addResizeListener(element, fn) {\n    if (attachEvent) {\n      element.attachEvent('onresize', fn);\n    } else {\n      if (!element.__resizeTriggers__) {\n        var doc = element.ownerDocument;\n        var elementStyle = windowObject.getComputedStyle(element);\n        if (elementStyle && elementStyle.position === 'static') {\n          element.style.position = 'relative';\n        }\n        createStyles(doc);\n        element.__resizeLast__ = {};\n        element.__resizeListeners__ = [];\n        (element.__resizeTriggers__ = doc.createElement('div')).className = 'resize-triggers';\n        var expandTrigger = doc.createElement('div');\n        expandTrigger.className = 'expand-trigger';\n        expandTrigger.appendChild(doc.createElement('div'));\n        var contractTrigger = doc.createElement('div');\n        contractTrigger.className = 'contract-trigger';\n        element.__resizeTriggers__.appendChild(expandTrigger);\n        element.__resizeTriggers__.appendChild(contractTrigger);\n        element.appendChild(element.__resizeTriggers__);\n        resetTriggers(element);\n        element.addEventListener('scroll', scrollListener, true);\n\n        /* Listen for a css animation to detect element display/re-attach */\n        if (animationStartEvent) {\n          element.__resizeTriggers__.__animationListener__ = function animationListener(e) {\n            if (e.animationName === animationName) {\n              resetTriggers(element);\n            }\n          };\n          element.__resizeTriggers__.addEventListener(animationStartEvent, element.__resizeTriggers__.__animationListener__);\n        }\n      }\n      element.__resizeListeners__.push(fn);\n    }\n  };\n\n  var removeResizeListener = function removeResizeListener(element, fn) {\n    if (attachEvent) {\n      element.detachEvent('onresize', fn);\n    } else {\n      element.__resizeListeners__.splice(element.__resizeListeners__.indexOf(fn), 1);\n      if (!element.__resizeListeners__.length) {\n        element.removeEventListener('scroll', scrollListener, true);\n        if (element.__resizeTriggers__.__animationListener__) {\n          element.__resizeTriggers__.removeEventListener(animationStartEvent, element.__resizeTriggers__.__animationListener__);\n          element.__resizeTriggers__.__animationListener__ = null;\n        }\n        try {\n          element.__resizeTriggers__ = !element.removeChild(element.__resizeTriggers__);\n        } catch (e) {\n          // Preact compat; see developit/preact-compat/issues/228\n        }\n      }\n    }\n  };\n\n  return {\n    addResizeListener: addResizeListener,\n    removeResizeListener: removeResizeListener\n  };\n}\n\nvar AutoSizer = function (_React$PureComponent) {\n  inherits(AutoSizer, _React$PureComponent);\n\n  function AutoSizer() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    classCallCheck(this, AutoSizer);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = possibleConstructorReturn(this, (_ref = AutoSizer.__proto__ || Object.getPrototypeOf(AutoSizer)).call.apply(_ref, [this].concat(args))), _this), _this.state = {\n      height: _this.props.defaultHeight || 0,\n      width: _this.props.defaultWidth || 0\n    }, _this._onResize = function () {\n      var _this$props = _this.props,\n          disableHeight = _this$props.disableHeight,\n          disableWidth = _this$props.disableWidth,\n          onResize = _this$props.onResize;\n\n\n      if (_this._parentNode) {\n        // Guard against AutoSizer component being removed from the DOM immediately after being added.\n        // This can result in invalid style values which can result in NaN values if we don't handle them.\n        // See issue #150 for more context.\n\n        var _height = _this._parentNode.offsetHeight || 0;\n        var _width = _this._parentNode.offsetWidth || 0;\n\n        var _style = window.getComputedStyle(_this._parentNode) || {};\n        var paddingLeft = parseInt(_style.paddingLeft, 10) || 0;\n        var paddingRight = parseInt(_style.paddingRight, 10) || 0;\n        var paddingTop = parseInt(_style.paddingTop, 10) || 0;\n        var paddingBottom = parseInt(_style.paddingBottom, 10) || 0;\n\n        var newHeight = _height - paddingTop - paddingBottom;\n        var newWidth = _width - paddingLeft - paddingRight;\n\n        if (!disableHeight && _this.state.height !== newHeight || !disableWidth && _this.state.width !== newWidth) {\n          _this.setState({\n            height: _height - paddingTop - paddingBottom,\n            width: _width - paddingLeft - paddingRight\n          });\n\n          onResize({ height: _height, width: _width });\n        }\n      }\n    }, _this._setRef = function (autoSizer) {\n      _this._autoSizer = autoSizer;\n    }, _temp), possibleConstructorReturn(_this, _ret);\n  }\n\n  createClass(AutoSizer, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      var nonce = this.props.nonce;\n\n      if (this._autoSizer && this._autoSizer.parentNode && this._autoSizer.parentNode.ownerDocument && this._autoSizer.parentNode.ownerDocument.defaultView && this._autoSizer.parentNode instanceof this._autoSizer.parentNode.ownerDocument.defaultView.HTMLElement) {\n        // Delay access of parentNode until mount.\n        // This handles edge-cases where the component has already been unmounted before its ref has been set,\n        // As well as libraries like react-lite which have a slightly different lifecycle.\n        this._parentNode = this._autoSizer.parentNode;\n\n        // Defer requiring resize handler in order to support server-side rendering.\n        // See issue #41\n        this._detectElementResize = createDetectElementResize(nonce);\n        this._detectElementResize.addResizeListener(this._parentNode, this._onResize);\n\n        this._onResize();\n      }\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      if (this._detectElementResize && this._parentNode) {\n        this._detectElementResize.removeResizeListener(this._parentNode, this._onResize);\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _props = this.props,\n          children = _props.children,\n          className = _props.className,\n          disableHeight = _props.disableHeight,\n          disableWidth = _props.disableWidth,\n          style = _props.style;\n      var _state = this.state,\n          height = _state.height,\n          width = _state.width;\n\n      // Outer div should not force width/height since that may prevent containers from shrinking.\n      // Inner component should overflow and use calculated width/height.\n      // See issue #68 for more information.\n\n      var outerStyle = { overflow: 'visible' };\n      var childParams = {};\n\n      // Avoid rendering children before the initial measurements have been collected.\n      // At best this would just be wasting cycles.\n      var bailoutOnChildren = false;\n\n      if (!disableHeight) {\n        if (height === 0) {\n          bailoutOnChildren = true;\n        }\n        outerStyle.height = 0;\n        childParams.height = height;\n      }\n\n      if (!disableWidth) {\n        if (width === 0) {\n          bailoutOnChildren = true;\n        }\n        outerStyle.width = 0;\n        childParams.width = width;\n      }\n\n      return createElement(\n        'div',\n        {\n          className: className,\n          ref: this._setRef,\n          style: _extends({}, outerStyle, style)\n        },\n        !bailoutOnChildren && children(childParams)\n      );\n    }\n  }]);\n  return AutoSizer;\n}(PureComponent);\n\nAutoSizer.defaultProps = {\n  onResize: function onResize() {},\n  disableHeight: false,\n  disableWidth: false,\n  style: {}\n};\n\nexport default AutoSizer;\n","import _extends from '@babel/runtime/helpers/esm/extends';\nimport _assertThisInitialized from '@babel/runtime/helpers/esm/assertThisInitialized';\nimport _inheritsLoose from '@babel/runtime/helpers/esm/inheritsLoose';\nimport memoizeOne from 'memoize-one';\nimport { createElement, PureComponent } from 'react';\nimport _objectWithoutPropertiesLoose from '@babel/runtime/helpers/esm/objectWithoutPropertiesLoose';\n\n// Animation frame based implementation of setTimeout.\n// Inspired by Joe Lambert, https://gist.github.com/joelambert/1002116#file-requesttimeout-js\nvar hasNativePerformanceNow = typeof performance === 'object' && typeof performance.now === 'function';\nvar now = hasNativePerformanceNow ? function () {\n  return performance.now();\n} : function () {\n  return Date.now();\n};\nfunction cancelTimeout(timeoutID) {\n  cancelAnimationFrame(timeoutID.id);\n}\nfunction requestTimeout(callback, delay) {\n  var start = now();\n\n  function tick() {\n    if (now() - start >= delay) {\n      callback.call(null);\n    } else {\n      timeoutID.id = requestAnimationFrame(tick);\n    }\n  }\n\n  var timeoutID = {\n    id: requestAnimationFrame(tick)\n  };\n  return timeoutID;\n}\n\nvar size = -1; // This utility copied from \"dom-helpers\" package.\n\nfunction getScrollbarSize(recalculate) {\n  if (recalculate === void 0) {\n    recalculate = false;\n  }\n\n  if (size === -1 || recalculate) {\n    var div = document.createElement('div');\n    var style = div.style;\n    style.width = '50px';\n    style.height = '50px';\n    style.overflow = 'scroll';\n    document.body.appendChild(div);\n    size = div.offsetWidth - div.clientWidth;\n    document.body.removeChild(div);\n  }\n\n  return size;\n}\nvar cachedRTLResult = null; // TRICKY According to the spec, scrollLeft should be negative for RTL aligned elements.\n// Chrome does not seem to adhere; its scrollLeft values are positive (measured relative to the left).\n// Safari's elastic bounce makes detecting this even more complicated wrt potential false positives.\n// The safest way to check this is to intentionally set a negative offset,\n// and then verify that the subsequent \"scroll\" event matches the negative offset.\n// If it does not match, then we can assume a non-standard RTL scroll implementation.\n\nfunction getRTLOffsetType(recalculate) {\n  if (recalculate === void 0) {\n    recalculate = false;\n  }\n\n  if (cachedRTLResult === null || recalculate) {\n    var outerDiv = document.createElement('div');\n    var outerStyle = outerDiv.style;\n    outerStyle.width = '50px';\n    outerStyle.height = '50px';\n    outerStyle.overflow = 'scroll';\n    outerStyle.direction = 'rtl';\n    var innerDiv = document.createElement('div');\n    var innerStyle = innerDiv.style;\n    innerStyle.width = '100px';\n    innerStyle.height = '100px';\n    outerDiv.appendChild(innerDiv);\n    document.body.appendChild(outerDiv);\n\n    if (outerDiv.scrollLeft > 0) {\n      cachedRTLResult = 'positive-descending';\n    } else {\n      outerDiv.scrollLeft = 1;\n\n      if (outerDiv.scrollLeft === 0) {\n        cachedRTLResult = 'negative';\n      } else {\n        cachedRTLResult = 'positive-ascending';\n      }\n    }\n\n    document.body.removeChild(outerDiv);\n    return cachedRTLResult;\n  }\n\n  return cachedRTLResult;\n}\n\nvar IS_SCROLLING_DEBOUNCE_INTERVAL = 150;\n\nvar defaultItemKey = function defaultItemKey(_ref) {\n  var columnIndex = _ref.columnIndex,\n      data = _ref.data,\n      rowIndex = _ref.rowIndex;\n  return rowIndex + \":\" + columnIndex;\n}; // In DEV mode, this Set helps us only log a warning once per component instance.\n// This avoids spamming the console every time a render happens.\n\n\nvar devWarningsOverscanCount = null;\nvar devWarningsOverscanRowsColumnsCount = null;\nvar devWarningsTagName = null;\n\nif (process.env.NODE_ENV !== 'production') {\n  if (typeof window !== 'undefined' && typeof window.WeakSet !== 'undefined') {\n    devWarningsOverscanCount = /*#__PURE__*/new WeakSet();\n    devWarningsOverscanRowsColumnsCount = /*#__PURE__*/new WeakSet();\n    devWarningsTagName = /*#__PURE__*/new WeakSet();\n  }\n}\n\nfunction createGridComponent(_ref2) {\n  var _class;\n\n  var getColumnOffset = _ref2.getColumnOffset,\n      getColumnStartIndexForOffset = _ref2.getColumnStartIndexForOffset,\n      getColumnStopIndexForStartIndex = _ref2.getColumnStopIndexForStartIndex,\n      getColumnWidth = _ref2.getColumnWidth,\n      getEstimatedTotalHeight = _ref2.getEstimatedTotalHeight,\n      getEstimatedTotalWidth = _ref2.getEstimatedTotalWidth,\n      getOffsetForColumnAndAlignment = _ref2.getOffsetForColumnAndAlignment,\n      getOffsetForRowAndAlignment = _ref2.getOffsetForRowAndAlignment,\n      getRowHeight = _ref2.getRowHeight,\n      getRowOffset = _ref2.getRowOffset,\n      getRowStartIndexForOffset = _ref2.getRowStartIndexForOffset,\n      getRowStopIndexForStartIndex = _ref2.getRowStopIndexForStartIndex,\n      initInstanceProps = _ref2.initInstanceProps,\n      shouldResetStyleCacheOnItemSizeChange = _ref2.shouldResetStyleCacheOnItemSizeChange,\n      validateProps = _ref2.validateProps;\n  return _class = /*#__PURE__*/function (_PureComponent) {\n    _inheritsLoose(Grid, _PureComponent);\n\n    // Always use explicit constructor for React components.\n    // It produces less code after transpilation. (#26)\n    // eslint-disable-next-line no-useless-constructor\n    function Grid(props) {\n      var _this;\n\n      _this = _PureComponent.call(this, props) || this;\n      _this._instanceProps = initInstanceProps(_this.props, _assertThisInitialized(_this));\n      _this._resetIsScrollingTimeoutId = null;\n      _this._outerRef = void 0;\n      _this.state = {\n        instance: _assertThisInitialized(_this),\n        isScrolling: false,\n        horizontalScrollDirection: 'forward',\n        scrollLeft: typeof _this.props.initialScrollLeft === 'number' ? _this.props.initialScrollLeft : 0,\n        scrollTop: typeof _this.props.initialScrollTop === 'number' ? _this.props.initialScrollTop : 0,\n        scrollUpdateWasRequested: false,\n        verticalScrollDirection: 'forward'\n      };\n      _this._callOnItemsRendered = void 0;\n      _this._callOnItemsRendered = memoizeOne(function (overscanColumnStartIndex, overscanColumnStopIndex, overscanRowStartIndex, overscanRowStopIndex, visibleColumnStartIndex, visibleColumnStopIndex, visibleRowStartIndex, visibleRowStopIndex) {\n        return _this.props.onItemsRendered({\n          overscanColumnStartIndex: overscanColumnStartIndex,\n          overscanColumnStopIndex: overscanColumnStopIndex,\n          overscanRowStartIndex: overscanRowStartIndex,\n          overscanRowStopIndex: overscanRowStopIndex,\n          visibleColumnStartIndex: visibleColumnStartIndex,\n          visibleColumnStopIndex: visibleColumnStopIndex,\n          visibleRowStartIndex: visibleRowStartIndex,\n          visibleRowStopIndex: visibleRowStopIndex\n        });\n      });\n      _this._callOnScroll = void 0;\n      _this._callOnScroll = memoizeOne(function (scrollLeft, scrollTop, horizontalScrollDirection, verticalScrollDirection, scrollUpdateWasRequested) {\n        return _this.props.onScroll({\n          horizontalScrollDirection: horizontalScrollDirection,\n          scrollLeft: scrollLeft,\n          scrollTop: scrollTop,\n          verticalScrollDirection: verticalScrollDirection,\n          scrollUpdateWasRequested: scrollUpdateWasRequested\n        });\n      });\n      _this._getItemStyle = void 0;\n\n      _this._getItemStyle = function (rowIndex, columnIndex) {\n        var _this$props = _this.props,\n            columnWidth = _this$props.columnWidth,\n            direction = _this$props.direction,\n            rowHeight = _this$props.rowHeight;\n\n        var itemStyleCache = _this._getItemStyleCache(shouldResetStyleCacheOnItemSizeChange && columnWidth, shouldResetStyleCacheOnItemSizeChange && direction, shouldResetStyleCacheOnItemSizeChange && rowHeight);\n\n        var key = rowIndex + \":\" + columnIndex;\n        var style;\n\n        if (itemStyleCache.hasOwnProperty(key)) {\n          style = itemStyleCache[key];\n        } else {\n          var _offset = getColumnOffset(_this.props, columnIndex, _this._instanceProps);\n\n          var isRtl = direction === 'rtl';\n          itemStyleCache[key] = style = {\n            position: 'absolute',\n            left: isRtl ? undefined : _offset,\n            right: isRtl ? _offset : undefined,\n            top: getRowOffset(_this.props, rowIndex, _this._instanceProps),\n            height: getRowHeight(_this.props, rowIndex, _this._instanceProps),\n            width: getColumnWidth(_this.props, columnIndex, _this._instanceProps)\n          };\n        }\n\n        return style;\n      };\n\n      _this._getItemStyleCache = void 0;\n      _this._getItemStyleCache = memoizeOne(function (_, __, ___) {\n        return {};\n      });\n\n      _this._onScroll = function (event) {\n        var _event$currentTarget = event.currentTarget,\n            clientHeight = _event$currentTarget.clientHeight,\n            clientWidth = _event$currentTarget.clientWidth,\n            scrollLeft = _event$currentTarget.scrollLeft,\n            scrollTop = _event$currentTarget.scrollTop,\n            scrollHeight = _event$currentTarget.scrollHeight,\n            scrollWidth = _event$currentTarget.scrollWidth;\n\n        _this.setState(function (prevState) {\n          if (prevState.scrollLeft === scrollLeft && prevState.scrollTop === scrollTop) {\n            // Scroll position may have been updated by cDM/cDU,\n            // In which case we don't need to trigger another render,\n            // And we don't want to update state.isScrolling.\n            return null;\n          }\n\n          var direction = _this.props.direction; // TRICKY According to the spec, scrollLeft should be negative for RTL aligned elements.\n          // This is not the case for all browsers though (e.g. Chrome reports values as positive, measured relative to the left).\n          // It's also easier for this component if we convert offsets to the same format as they would be in for ltr.\n          // So the simplest solution is to determine which browser behavior we're dealing with, and convert based on it.\n\n          var calculatedScrollLeft = scrollLeft;\n\n          if (direction === 'rtl') {\n            switch (getRTLOffsetType()) {\n              case 'negative':\n                calculatedScrollLeft = -scrollLeft;\n                break;\n\n              case 'positive-descending':\n                calculatedScrollLeft = scrollWidth - clientWidth - scrollLeft;\n                break;\n            }\n          } // Prevent Safari's elastic scrolling from causing visual shaking when scrolling past bounds.\n\n\n          calculatedScrollLeft = Math.max(0, Math.min(calculatedScrollLeft, scrollWidth - clientWidth));\n          var calculatedScrollTop = Math.max(0, Math.min(scrollTop, scrollHeight - clientHeight));\n          return {\n            isScrolling: true,\n            horizontalScrollDirection: prevState.scrollLeft < scrollLeft ? 'forward' : 'backward',\n            scrollLeft: calculatedScrollLeft,\n            scrollTop: calculatedScrollTop,\n            verticalScrollDirection: prevState.scrollTop < scrollTop ? 'forward' : 'backward',\n            scrollUpdateWasRequested: false\n          };\n        }, _this._resetIsScrollingDebounced);\n      };\n\n      _this._outerRefSetter = function (ref) {\n        var outerRef = _this.props.outerRef;\n        _this._outerRef = ref;\n\n        if (typeof outerRef === 'function') {\n          outerRef(ref);\n        } else if (outerRef != null && typeof outerRef === 'object' && outerRef.hasOwnProperty('current')) {\n          outerRef.current = ref;\n        }\n      };\n\n      _this._resetIsScrollingDebounced = function () {\n        if (_this._resetIsScrollingTimeoutId !== null) {\n          cancelTimeout(_this._resetIsScrollingTimeoutId);\n        }\n\n        _this._resetIsScrollingTimeoutId = requestTimeout(_this._resetIsScrolling, IS_SCROLLING_DEBOUNCE_INTERVAL);\n      };\n\n      _this._resetIsScrolling = function () {\n        _this._resetIsScrollingTimeoutId = null;\n\n        _this.setState({\n          isScrolling: false\n        }, function () {\n          // Clear style cache after state update has been committed.\n          // This way we don't break pure sCU for items that don't use isScrolling param.\n          _this._getItemStyleCache(-1);\n        });\n      };\n\n      return _this;\n    }\n\n    Grid.getDerivedStateFromProps = function getDerivedStateFromProps(nextProps, prevState) {\n      validateSharedProps(nextProps, prevState);\n      validateProps(nextProps);\n      return null;\n    };\n\n    var _proto = Grid.prototype;\n\n    _proto.scrollTo = function scrollTo(_ref3) {\n      var scrollLeft = _ref3.scrollLeft,\n          scrollTop = _ref3.scrollTop;\n\n      if (scrollLeft !== undefined) {\n        scrollLeft = Math.max(0, scrollLeft);\n      }\n\n      if (scrollTop !== undefined) {\n        scrollTop = Math.max(0, scrollTop);\n      }\n\n      this.setState(function (prevState) {\n        if (scrollLeft === undefined) {\n          scrollLeft = prevState.scrollLeft;\n        }\n\n        if (scrollTop === undefined) {\n          scrollTop = prevState.scrollTop;\n        }\n\n        if (prevState.scrollLeft === scrollLeft && prevState.scrollTop === scrollTop) {\n          return null;\n        }\n\n        return {\n          horizontalScrollDirection: prevState.scrollLeft < scrollLeft ? 'forward' : 'backward',\n          scrollLeft: scrollLeft,\n          scrollTop: scrollTop,\n          scrollUpdateWasRequested: true,\n          verticalScrollDirection: prevState.scrollTop < scrollTop ? 'forward' : 'backward'\n        };\n      }, this._resetIsScrollingDebounced);\n    };\n\n    _proto.scrollToItem = function scrollToItem(_ref4) {\n      var _ref4$align = _ref4.align,\n          align = _ref4$align === void 0 ? 'auto' : _ref4$align,\n          columnIndex = _ref4.columnIndex,\n          rowIndex = _ref4.rowIndex;\n      var _this$props2 = this.props,\n          columnCount = _this$props2.columnCount,\n          height = _this$props2.height,\n          rowCount = _this$props2.rowCount,\n          width = _this$props2.width;\n      var _this$state = this.state,\n          scrollLeft = _this$state.scrollLeft,\n          scrollTop = _this$state.scrollTop;\n      var scrollbarSize = getScrollbarSize();\n\n      if (columnIndex !== undefined) {\n        columnIndex = Math.max(0, Math.min(columnIndex, columnCount - 1));\n      }\n\n      if (rowIndex !== undefined) {\n        rowIndex = Math.max(0, Math.min(rowIndex, rowCount - 1));\n      }\n\n      var estimatedTotalHeight = getEstimatedTotalHeight(this.props, this._instanceProps);\n      var estimatedTotalWidth = getEstimatedTotalWidth(this.props, this._instanceProps); // The scrollbar size should be considered when scrolling an item into view,\n      // to ensure it's fully visible.\n      // But we only need to account for its size when it's actually visible.\n\n      var horizontalScrollbarSize = estimatedTotalWidth > width ? scrollbarSize : 0;\n      var verticalScrollbarSize = estimatedTotalHeight > height ? scrollbarSize : 0;\n      this.scrollTo({\n        scrollLeft: columnIndex !== undefined ? getOffsetForColumnAndAlignment(this.props, columnIndex, align, scrollLeft, this._instanceProps, verticalScrollbarSize) : scrollLeft,\n        scrollTop: rowIndex !== undefined ? getOffsetForRowAndAlignment(this.props, rowIndex, align, scrollTop, this._instanceProps, horizontalScrollbarSize) : scrollTop\n      });\n    };\n\n    _proto.componentDidMount = function componentDidMount() {\n      var _this$props3 = this.props,\n          initialScrollLeft = _this$props3.initialScrollLeft,\n          initialScrollTop = _this$props3.initialScrollTop;\n\n      if (this._outerRef != null) {\n        var outerRef = this._outerRef;\n\n        if (typeof initialScrollLeft === 'number') {\n          outerRef.scrollLeft = initialScrollLeft;\n        }\n\n        if (typeof initialScrollTop === 'number') {\n          outerRef.scrollTop = initialScrollTop;\n        }\n      }\n\n      this._callPropsCallbacks();\n    };\n\n    _proto.componentDidUpdate = function componentDidUpdate() {\n      var direction = this.props.direction;\n      var _this$state2 = this.state,\n          scrollLeft = _this$state2.scrollLeft,\n          scrollTop = _this$state2.scrollTop,\n          scrollUpdateWasRequested = _this$state2.scrollUpdateWasRequested;\n\n      if (scrollUpdateWasRequested && this._outerRef != null) {\n        // TRICKY According to the spec, scrollLeft should be negative for RTL aligned elements.\n        // This is not the case for all browsers though (e.g. Chrome reports values as positive, measured relative to the left).\n        // So we need to determine which browser behavior we're dealing with, and mimic it.\n        var outerRef = this._outerRef;\n\n        if (direction === 'rtl') {\n          switch (getRTLOffsetType()) {\n            case 'negative':\n              outerRef.scrollLeft = -scrollLeft;\n              break;\n\n            case 'positive-ascending':\n              outerRef.scrollLeft = scrollLeft;\n              break;\n\n            default:\n              var clientWidth = outerRef.clientWidth,\n                  scrollWidth = outerRef.scrollWidth;\n              outerRef.scrollLeft = scrollWidth - clientWidth - scrollLeft;\n              break;\n          }\n        } else {\n          outerRef.scrollLeft = Math.max(0, scrollLeft);\n        }\n\n        outerRef.scrollTop = Math.max(0, scrollTop);\n      }\n\n      this._callPropsCallbacks();\n    };\n\n    _proto.componentWillUnmount = function componentWillUnmount() {\n      if (this._resetIsScrollingTimeoutId !== null) {\n        cancelTimeout(this._resetIsScrollingTimeoutId);\n      }\n    };\n\n    _proto.render = function render() {\n      var _this$props4 = this.props,\n          children = _this$props4.children,\n          className = _this$props4.className,\n          columnCount = _this$props4.columnCount,\n          direction = _this$props4.direction,\n          height = _this$props4.height,\n          innerRef = _this$props4.innerRef,\n          innerElementType = _this$props4.innerElementType,\n          innerTagName = _this$props4.innerTagName,\n          itemData = _this$props4.itemData,\n          _this$props4$itemKey = _this$props4.itemKey,\n          itemKey = _this$props4$itemKey === void 0 ? defaultItemKey : _this$props4$itemKey,\n          outerElementType = _this$props4.outerElementType,\n          outerTagName = _this$props4.outerTagName,\n          rowCount = _this$props4.rowCount,\n          style = _this$props4.style,\n          useIsScrolling = _this$props4.useIsScrolling,\n          width = _this$props4.width;\n      var isScrolling = this.state.isScrolling;\n\n      var _this$_getHorizontalR = this._getHorizontalRangeToRender(),\n          columnStartIndex = _this$_getHorizontalR[0],\n          columnStopIndex = _this$_getHorizontalR[1];\n\n      var _this$_getVerticalRan = this._getVerticalRangeToRender(),\n          rowStartIndex = _this$_getVerticalRan[0],\n          rowStopIndex = _this$_getVerticalRan[1];\n\n      var items = [];\n\n      if (columnCount > 0 && rowCount) {\n        for (var _rowIndex = rowStartIndex; _rowIndex <= rowStopIndex; _rowIndex++) {\n          for (var _columnIndex = columnStartIndex; _columnIndex <= columnStopIndex; _columnIndex++) {\n            items.push(createElement(children, {\n              columnIndex: _columnIndex,\n              data: itemData,\n              isScrolling: useIsScrolling ? isScrolling : undefined,\n              key: itemKey({\n                columnIndex: _columnIndex,\n                data: itemData,\n                rowIndex: _rowIndex\n              }),\n              rowIndex: _rowIndex,\n              style: this._getItemStyle(_rowIndex, _columnIndex)\n            }));\n          }\n        }\n      } // Read this value AFTER items have been created,\n      // So their actual sizes (if variable) are taken into consideration.\n\n\n      var estimatedTotalHeight = getEstimatedTotalHeight(this.props, this._instanceProps);\n      var estimatedTotalWidth = getEstimatedTotalWidth(this.props, this._instanceProps);\n      return createElement(outerElementType || outerTagName || 'div', {\n        className: className,\n        onScroll: this._onScroll,\n        ref: this._outerRefSetter,\n        style: _extends({\n          position: 'relative',\n          height: height,\n          width: width,\n          overflow: 'auto',\n          WebkitOverflowScrolling: 'touch',\n          willChange: 'transform',\n          direction: direction\n        }, style)\n      }, createElement(innerElementType || innerTagName || 'div', {\n        children: items,\n        ref: innerRef,\n        style: {\n          height: estimatedTotalHeight,\n          pointerEvents: isScrolling ? 'none' : undefined,\n          width: estimatedTotalWidth\n        }\n      }));\n    };\n\n    _proto._callPropsCallbacks = function _callPropsCallbacks() {\n      var _this$props5 = this.props,\n          columnCount = _this$props5.columnCount,\n          onItemsRendered = _this$props5.onItemsRendered,\n          onScroll = _this$props5.onScroll,\n          rowCount = _this$props5.rowCount;\n\n      if (typeof onItemsRendered === 'function') {\n        if (columnCount > 0 && rowCount > 0) {\n          var _this$_getHorizontalR2 = this._getHorizontalRangeToRender(),\n              _overscanColumnStartIndex = _this$_getHorizontalR2[0],\n              _overscanColumnStopIndex = _this$_getHorizontalR2[1],\n              _visibleColumnStartIndex = _this$_getHorizontalR2[2],\n              _visibleColumnStopIndex = _this$_getHorizontalR2[3];\n\n          var _this$_getVerticalRan2 = this._getVerticalRangeToRender(),\n              _overscanRowStartIndex = _this$_getVerticalRan2[0],\n              _overscanRowStopIndex = _this$_getVerticalRan2[1],\n              _visibleRowStartIndex = _this$_getVerticalRan2[2],\n              _visibleRowStopIndex = _this$_getVerticalRan2[3];\n\n          this._callOnItemsRendered(_overscanColumnStartIndex, _overscanColumnStopIndex, _overscanRowStartIndex, _overscanRowStopIndex, _visibleColumnStartIndex, _visibleColumnStopIndex, _visibleRowStartIndex, _visibleRowStopIndex);\n        }\n      }\n\n      if (typeof onScroll === 'function') {\n        var _this$state3 = this.state,\n            _horizontalScrollDirection = _this$state3.horizontalScrollDirection,\n            _scrollLeft = _this$state3.scrollLeft,\n            _scrollTop = _this$state3.scrollTop,\n            _scrollUpdateWasRequested = _this$state3.scrollUpdateWasRequested,\n            _verticalScrollDirection = _this$state3.verticalScrollDirection;\n\n        this._callOnScroll(_scrollLeft, _scrollTop, _horizontalScrollDirection, _verticalScrollDirection, _scrollUpdateWasRequested);\n      }\n    } // Lazily create and cache item styles while scrolling,\n    // So that pure component sCU will prevent re-renders.\n    // We maintain this cache, and pass a style prop rather than index,\n    // So that List can clear cached styles and force item re-render if necessary.\n    ;\n\n    _proto._getHorizontalRangeToRender = function _getHorizontalRangeToRender() {\n      var _this$props6 = this.props,\n          columnCount = _this$props6.columnCount,\n          overscanColumnCount = _this$props6.overscanColumnCount,\n          overscanColumnsCount = _this$props6.overscanColumnsCount,\n          overscanCount = _this$props6.overscanCount,\n          rowCount = _this$props6.rowCount;\n      var _this$state4 = this.state,\n          horizontalScrollDirection = _this$state4.horizontalScrollDirection,\n          isScrolling = _this$state4.isScrolling,\n          scrollLeft = _this$state4.scrollLeft;\n      var overscanCountResolved = overscanColumnCount || overscanColumnsCount || overscanCount || 1;\n\n      if (columnCount === 0 || rowCount === 0) {\n        return [0, 0, 0, 0];\n      }\n\n      var startIndex = getColumnStartIndexForOffset(this.props, scrollLeft, this._instanceProps);\n      var stopIndex = getColumnStopIndexForStartIndex(this.props, startIndex, scrollLeft, this._instanceProps); // Overscan by one item in each direction so that tab/focus works.\n      // If there isn't at least one extra item, tab loops back around.\n\n      var overscanBackward = !isScrolling || horizontalScrollDirection === 'backward' ? Math.max(1, overscanCountResolved) : 1;\n      var overscanForward = !isScrolling || horizontalScrollDirection === 'forward' ? Math.max(1, overscanCountResolved) : 1;\n      return [Math.max(0, startIndex - overscanBackward), Math.max(0, Math.min(columnCount - 1, stopIndex + overscanForward)), startIndex, stopIndex];\n    };\n\n    _proto._getVerticalRangeToRender = function _getVerticalRangeToRender() {\n      var _this$props7 = this.props,\n          columnCount = _this$props7.columnCount,\n          overscanCount = _this$props7.overscanCount,\n          overscanRowCount = _this$props7.overscanRowCount,\n          overscanRowsCount = _this$props7.overscanRowsCount,\n          rowCount = _this$props7.rowCount;\n      var _this$state5 = this.state,\n          isScrolling = _this$state5.isScrolling,\n          verticalScrollDirection = _this$state5.verticalScrollDirection,\n          scrollTop = _this$state5.scrollTop;\n      var overscanCountResolved = overscanRowCount || overscanRowsCount || overscanCount || 1;\n\n      if (columnCount === 0 || rowCount === 0) {\n        return [0, 0, 0, 0];\n      }\n\n      var startIndex = getRowStartIndexForOffset(this.props, scrollTop, this._instanceProps);\n      var stopIndex = getRowStopIndexForStartIndex(this.props, startIndex, scrollTop, this._instanceProps); // Overscan by one item in each direction so that tab/focus works.\n      // If there isn't at least one extra item, tab loops back around.\n\n      var overscanBackward = !isScrolling || verticalScrollDirection === 'backward' ? Math.max(1, overscanCountResolved) : 1;\n      var overscanForward = !isScrolling || verticalScrollDirection === 'forward' ? Math.max(1, overscanCountResolved) : 1;\n      return [Math.max(0, startIndex - overscanBackward), Math.max(0, Math.min(rowCount - 1, stopIndex + overscanForward)), startIndex, stopIndex];\n    };\n\n    return Grid;\n  }(PureComponent), _class.defaultProps = {\n    direction: 'ltr',\n    itemData: undefined,\n    useIsScrolling: false\n  }, _class;\n}\n\nvar validateSharedProps = function validateSharedProps(_ref5, _ref6) {\n  var children = _ref5.children,\n      direction = _ref5.direction,\n      height = _ref5.height,\n      innerTagName = _ref5.innerTagName,\n      outerTagName = _ref5.outerTagName,\n      overscanColumnsCount = _ref5.overscanColumnsCount,\n      overscanCount = _ref5.overscanCount,\n      overscanRowsCount = _ref5.overscanRowsCount,\n      width = _ref5.width;\n  var instance = _ref6.instance;\n\n  if (process.env.NODE_ENV !== 'production') {\n    if (typeof overscanCount === 'number') {\n      if (devWarningsOverscanCount && !devWarningsOverscanCount.has(instance)) {\n        devWarningsOverscanCount.add(instance);\n        console.warn('The overscanCount prop has been deprecated. ' + 'Please use the overscanColumnCount and overscanRowCount props instead.');\n      }\n    }\n\n    if (typeof overscanColumnsCount === 'number' || typeof overscanRowsCount === 'number') {\n      if (devWarningsOverscanRowsColumnsCount && !devWarningsOverscanRowsColumnsCount.has(instance)) {\n        devWarningsOverscanRowsColumnsCount.add(instance);\n        console.warn('The overscanColumnsCount and overscanRowsCount props have been deprecated. ' + 'Please use the overscanColumnCount and overscanRowCount props instead.');\n      }\n    }\n\n    if (innerTagName != null || outerTagName != null) {\n      if (devWarningsTagName && !devWarningsTagName.has(instance)) {\n        devWarningsTagName.add(instance);\n        console.warn('The innerTagName and outerTagName props have been deprecated. ' + 'Please use the innerElementType and outerElementType props instead.');\n      }\n    }\n\n    if (children == null) {\n      throw Error('An invalid \"children\" prop has been specified. ' + 'Value should be a React component. ' + (\"\\\"\" + (children === null ? 'null' : typeof children) + \"\\\" was specified.\"));\n    }\n\n    switch (direction) {\n      case 'ltr':\n      case 'rtl':\n        // Valid values\n        break;\n\n      default:\n        throw Error('An invalid \"direction\" prop has been specified. ' + 'Value should be either \"ltr\" or \"rtl\". ' + (\"\\\"\" + direction + \"\\\" was specified.\"));\n    }\n\n    if (typeof width !== 'number') {\n      throw Error('An invalid \"width\" prop has been specified. ' + 'Grids must specify a number for width. ' + (\"\\\"\" + (width === null ? 'null' : typeof width) + \"\\\" was specified.\"));\n    }\n\n    if (typeof height !== 'number') {\n      throw Error('An invalid \"height\" prop has been specified. ' + 'Grids must specify a number for height. ' + (\"\\\"\" + (height === null ? 'null' : typeof height) + \"\\\" was specified.\"));\n    }\n  }\n};\n\nvar DEFAULT_ESTIMATED_ITEM_SIZE = 50;\n\nvar getEstimatedTotalHeight = function getEstimatedTotalHeight(_ref, _ref2) {\n  var rowCount = _ref.rowCount;\n  var rowMetadataMap = _ref2.rowMetadataMap,\n      estimatedRowHeight = _ref2.estimatedRowHeight,\n      lastMeasuredRowIndex = _ref2.lastMeasuredRowIndex;\n  var totalSizeOfMeasuredRows = 0; // Edge case check for when the number of items decreases while a scroll is in progress.\n  // https://github.com/bvaughn/react-window/pull/138\n\n  if (lastMeasuredRowIndex >= rowCount) {\n    lastMeasuredRowIndex = rowCount - 1;\n  }\n\n  if (lastMeasuredRowIndex >= 0) {\n    var itemMetadata = rowMetadataMap[lastMeasuredRowIndex];\n    totalSizeOfMeasuredRows = itemMetadata.offset + itemMetadata.size;\n  }\n\n  var numUnmeasuredItems = rowCount - lastMeasuredRowIndex - 1;\n  var totalSizeOfUnmeasuredItems = numUnmeasuredItems * estimatedRowHeight;\n  return totalSizeOfMeasuredRows + totalSizeOfUnmeasuredItems;\n};\n\nvar getEstimatedTotalWidth = function getEstimatedTotalWidth(_ref3, _ref4) {\n  var columnCount = _ref3.columnCount;\n  var columnMetadataMap = _ref4.columnMetadataMap,\n      estimatedColumnWidth = _ref4.estimatedColumnWidth,\n      lastMeasuredColumnIndex = _ref4.lastMeasuredColumnIndex;\n  var totalSizeOfMeasuredRows = 0; // Edge case check for when the number of items decreases while a scroll is in progress.\n  // https://github.com/bvaughn/react-window/pull/138\n\n  if (lastMeasuredColumnIndex >= columnCount) {\n    lastMeasuredColumnIndex = columnCount - 1;\n  }\n\n  if (lastMeasuredColumnIndex >= 0) {\n    var itemMetadata = columnMetadataMap[lastMeasuredColumnIndex];\n    totalSizeOfMeasuredRows = itemMetadata.offset + itemMetadata.size;\n  }\n\n  var numUnmeasuredItems = columnCount - lastMeasuredColumnIndex - 1;\n  var totalSizeOfUnmeasuredItems = numUnmeasuredItems * estimatedColumnWidth;\n  return totalSizeOfMeasuredRows + totalSizeOfUnmeasuredItems;\n};\n\nvar getItemMetadata = function getItemMetadata(itemType, props, index, instanceProps) {\n  var itemMetadataMap, itemSize, lastMeasuredIndex;\n\n  if (itemType === 'column') {\n    itemMetadataMap = instanceProps.columnMetadataMap;\n    itemSize = props.columnWidth;\n    lastMeasuredIndex = instanceProps.lastMeasuredColumnIndex;\n  } else {\n    itemMetadataMap = instanceProps.rowMetadataMap;\n    itemSize = props.rowHeight;\n    lastMeasuredIndex = instanceProps.lastMeasuredRowIndex;\n  }\n\n  if (index > lastMeasuredIndex) {\n    var offset = 0;\n\n    if (lastMeasuredIndex >= 0) {\n      var itemMetadata = itemMetadataMap[lastMeasuredIndex];\n      offset = itemMetadata.offset + itemMetadata.size;\n    }\n\n    for (var i = lastMeasuredIndex + 1; i <= index; i++) {\n      var size = itemSize(i);\n      itemMetadataMap[i] = {\n        offset: offset,\n        size: size\n      };\n      offset += size;\n    }\n\n    if (itemType === 'column') {\n      instanceProps.lastMeasuredColumnIndex = index;\n    } else {\n      instanceProps.lastMeasuredRowIndex = index;\n    }\n  }\n\n  return itemMetadataMap[index];\n};\n\nvar findNearestItem = function findNearestItem(itemType, props, instanceProps, offset) {\n  var itemMetadataMap, lastMeasuredIndex;\n\n  if (itemType === 'column') {\n    itemMetadataMap = instanceProps.columnMetadataMap;\n    lastMeasuredIndex = instanceProps.lastMeasuredColumnIndex;\n  } else {\n    itemMetadataMap = instanceProps.rowMetadataMap;\n    lastMeasuredIndex = instanceProps.lastMeasuredRowIndex;\n  }\n\n  var lastMeasuredItemOffset = lastMeasuredIndex > 0 ? itemMetadataMap[lastMeasuredIndex].offset : 0;\n\n  if (lastMeasuredItemOffset >= offset) {\n    // If we've already measured items within this range just use a binary search as it's faster.\n    return findNearestItemBinarySearch(itemType, props, instanceProps, lastMeasuredIndex, 0, offset);\n  } else {\n    // If we haven't yet measured this high, fallback to an exponential search with an inner binary search.\n    // The exponential search avoids pre-computing sizes for the full set of items as a binary search would.\n    // The overall complexity for this approach is O(log n).\n    return findNearestItemExponentialSearch(itemType, props, instanceProps, Math.max(0, lastMeasuredIndex), offset);\n  }\n};\n\nvar findNearestItemBinarySearch = function findNearestItemBinarySearch(itemType, props, instanceProps, high, low, offset) {\n  while (low <= high) {\n    var middle = low + Math.floor((high - low) / 2);\n    var currentOffset = getItemMetadata(itemType, props, middle, instanceProps).offset;\n\n    if (currentOffset === offset) {\n      return middle;\n    } else if (currentOffset < offset) {\n      low = middle + 1;\n    } else if (currentOffset > offset) {\n      high = middle - 1;\n    }\n  }\n\n  if (low > 0) {\n    return low - 1;\n  } else {\n    return 0;\n  }\n};\n\nvar findNearestItemExponentialSearch = function findNearestItemExponentialSearch(itemType, props, instanceProps, index, offset) {\n  var itemCount = itemType === 'column' ? props.columnCount : props.rowCount;\n  var interval = 1;\n\n  while (index < itemCount && getItemMetadata(itemType, props, index, instanceProps).offset < offset) {\n    index += interval;\n    interval *= 2;\n  }\n\n  return findNearestItemBinarySearch(itemType, props, instanceProps, Math.min(index, itemCount - 1), Math.floor(index / 2), offset);\n};\n\nvar getOffsetForIndexAndAlignment = function getOffsetForIndexAndAlignment(itemType, props, index, align, scrollOffset, instanceProps, scrollbarSize) {\n  var size = itemType === 'column' ? props.width : props.height;\n  var itemMetadata = getItemMetadata(itemType, props, index, instanceProps); // Get estimated total size after ItemMetadata is computed,\n  // To ensure it reflects actual measurements instead of just estimates.\n\n  var estimatedTotalSize = itemType === 'column' ? getEstimatedTotalWidth(props, instanceProps) : getEstimatedTotalHeight(props, instanceProps);\n  var maxOffset = Math.max(0, Math.min(estimatedTotalSize - size, itemMetadata.offset));\n  var minOffset = Math.max(0, itemMetadata.offset - size + scrollbarSize + itemMetadata.size);\n\n  if (align === 'smart') {\n    if (scrollOffset >= minOffset - size && scrollOffset <= maxOffset + size) {\n      align = 'auto';\n    } else {\n      align = 'center';\n    }\n  }\n\n  switch (align) {\n    case 'start':\n      return maxOffset;\n\n    case 'end':\n      return minOffset;\n\n    case 'center':\n      return Math.round(minOffset + (maxOffset - minOffset) / 2);\n\n    case 'auto':\n    default:\n      if (scrollOffset >= minOffset && scrollOffset <= maxOffset) {\n        return scrollOffset;\n      } else if (minOffset > maxOffset) {\n        // Because we only take into account the scrollbar size when calculating minOffset\n        // this value can be larger than maxOffset when at the end of the list\n        return minOffset;\n      } else if (scrollOffset < minOffset) {\n        return minOffset;\n      } else {\n        return maxOffset;\n      }\n\n  }\n};\n\nvar VariableSizeGrid = /*#__PURE__*/createGridComponent({\n  getColumnOffset: function getColumnOffset(props, index, instanceProps) {\n    return getItemMetadata('column', props, index, instanceProps).offset;\n  },\n  getColumnStartIndexForOffset: function getColumnStartIndexForOffset(props, scrollLeft, instanceProps) {\n    return findNearestItem('column', props, instanceProps, scrollLeft);\n  },\n  getColumnStopIndexForStartIndex: function getColumnStopIndexForStartIndex(props, startIndex, scrollLeft, instanceProps) {\n    var columnCount = props.columnCount,\n        width = props.width;\n    var itemMetadata = getItemMetadata('column', props, startIndex, instanceProps);\n    var maxOffset = scrollLeft + width;\n    var offset = itemMetadata.offset + itemMetadata.size;\n    var stopIndex = startIndex;\n\n    while (stopIndex < columnCount - 1 && offset < maxOffset) {\n      stopIndex++;\n      offset += getItemMetadata('column', props, stopIndex, instanceProps).size;\n    }\n\n    return stopIndex;\n  },\n  getColumnWidth: function getColumnWidth(props, index, instanceProps) {\n    return instanceProps.columnMetadataMap[index].size;\n  },\n  getEstimatedTotalHeight: getEstimatedTotalHeight,\n  getEstimatedTotalWidth: getEstimatedTotalWidth,\n  getOffsetForColumnAndAlignment: function getOffsetForColumnAndAlignment(props, index, align, scrollOffset, instanceProps, scrollbarSize) {\n    return getOffsetForIndexAndAlignment('column', props, index, align, scrollOffset, instanceProps, scrollbarSize);\n  },\n  getOffsetForRowAndAlignment: function getOffsetForRowAndAlignment(props, index, align, scrollOffset, instanceProps, scrollbarSize) {\n    return getOffsetForIndexAndAlignment('row', props, index, align, scrollOffset, instanceProps, scrollbarSize);\n  },\n  getRowOffset: function getRowOffset(props, index, instanceProps) {\n    return getItemMetadata('row', props, index, instanceProps).offset;\n  },\n  getRowHeight: function getRowHeight(props, index, instanceProps) {\n    return instanceProps.rowMetadataMap[index].size;\n  },\n  getRowStartIndexForOffset: function getRowStartIndexForOffset(props, scrollTop, instanceProps) {\n    return findNearestItem('row', props, instanceProps, scrollTop);\n  },\n  getRowStopIndexForStartIndex: function getRowStopIndexForStartIndex(props, startIndex, scrollTop, instanceProps) {\n    var rowCount = props.rowCount,\n        height = props.height;\n    var itemMetadata = getItemMetadata('row', props, startIndex, instanceProps);\n    var maxOffset = scrollTop + height;\n    var offset = itemMetadata.offset + itemMetadata.size;\n    var stopIndex = startIndex;\n\n    while (stopIndex < rowCount - 1 && offset < maxOffset) {\n      stopIndex++;\n      offset += getItemMetadata('row', props, stopIndex, instanceProps).size;\n    }\n\n    return stopIndex;\n  },\n  initInstanceProps: function initInstanceProps(props, instance) {\n    var _ref5 = props,\n        estimatedColumnWidth = _ref5.estimatedColumnWidth,\n        estimatedRowHeight = _ref5.estimatedRowHeight;\n    var instanceProps = {\n      columnMetadataMap: {},\n      estimatedColumnWidth: estimatedColumnWidth || DEFAULT_ESTIMATED_ITEM_SIZE,\n      estimatedRowHeight: estimatedRowHeight || DEFAULT_ESTIMATED_ITEM_SIZE,\n      lastMeasuredColumnIndex: -1,\n      lastMeasuredRowIndex: -1,\n      rowMetadataMap: {}\n    };\n\n    instance.resetAfterColumnIndex = function (columnIndex, shouldForceUpdate) {\n      if (shouldForceUpdate === void 0) {\n        shouldForceUpdate = true;\n      }\n\n      instance.resetAfterIndices({\n        columnIndex: columnIndex,\n        shouldForceUpdate: shouldForceUpdate\n      });\n    };\n\n    instance.resetAfterRowIndex = function (rowIndex, shouldForceUpdate) {\n      if (shouldForceUpdate === void 0) {\n        shouldForceUpdate = true;\n      }\n\n      instance.resetAfterIndices({\n        rowIndex: rowIndex,\n        shouldForceUpdate: shouldForceUpdate\n      });\n    };\n\n    instance.resetAfterIndices = function (_ref6) {\n      var columnIndex = _ref6.columnIndex,\n          rowIndex = _ref6.rowIndex,\n          _ref6$shouldForceUpda = _ref6.shouldForceUpdate,\n          shouldForceUpdate = _ref6$shouldForceUpda === void 0 ? true : _ref6$shouldForceUpda;\n\n      if (typeof columnIndex === 'number') {\n        instanceProps.lastMeasuredColumnIndex = Math.min(instanceProps.lastMeasuredColumnIndex, columnIndex - 1);\n      }\n\n      if (typeof rowIndex === 'number') {\n        instanceProps.lastMeasuredRowIndex = Math.min(instanceProps.lastMeasuredRowIndex, rowIndex - 1);\n      } // We could potentially optimize further by only evicting styles after this index,\n      // But since styles are only cached while scrolling is in progress-\n      // It seems an unnecessary optimization.\n      // It's unlikely that resetAfterIndex() will be called while a user is scrolling.\n\n\n      instance._getItemStyleCache(-1);\n\n      if (shouldForceUpdate) {\n        instance.forceUpdate();\n      }\n    };\n\n    return instanceProps;\n  },\n  shouldResetStyleCacheOnItemSizeChange: false,\n  validateProps: function validateProps(_ref7) {\n    var columnWidth = _ref7.columnWidth,\n        rowHeight = _ref7.rowHeight;\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (typeof columnWidth !== 'function') {\n        throw Error('An invalid \"columnWidth\" prop has been specified. ' + 'Value should be a function. ' + (\"\\\"\" + (columnWidth === null ? 'null' : typeof columnWidth) + \"\\\" was specified.\"));\n      } else if (typeof rowHeight !== 'function') {\n        throw Error('An invalid \"rowHeight\" prop has been specified. ' + 'Value should be a function. ' + (\"\\\"\" + (rowHeight === null ? 'null' : typeof rowHeight) + \"\\\" was specified.\"));\n      }\n    }\n  }\n});\n\nvar IS_SCROLLING_DEBOUNCE_INTERVAL$1 = 150;\n\nvar defaultItemKey$1 = function defaultItemKey(index, data) {\n  return index;\n}; // In DEV mode, this Set helps us only log a warning once per component instance.\n// This avoids spamming the console every time a render happens.\n\n\nvar devWarningsDirection = null;\nvar devWarningsTagName$1 = null;\n\nif (process.env.NODE_ENV !== 'production') {\n  if (typeof window !== 'undefined' && typeof window.WeakSet !== 'undefined') {\n    devWarningsDirection = /*#__PURE__*/new WeakSet();\n    devWarningsTagName$1 = /*#__PURE__*/new WeakSet();\n  }\n}\n\nfunction createListComponent(_ref) {\n  var _class;\n\n  var getItemOffset = _ref.getItemOffset,\n      getEstimatedTotalSize = _ref.getEstimatedTotalSize,\n      getItemSize = _ref.getItemSize,\n      getOffsetForIndexAndAlignment = _ref.getOffsetForIndexAndAlignment,\n      getStartIndexForOffset = _ref.getStartIndexForOffset,\n      getStopIndexForStartIndex = _ref.getStopIndexForStartIndex,\n      initInstanceProps = _ref.initInstanceProps,\n      shouldResetStyleCacheOnItemSizeChange = _ref.shouldResetStyleCacheOnItemSizeChange,\n      validateProps = _ref.validateProps;\n  return _class = /*#__PURE__*/function (_PureComponent) {\n    _inheritsLoose(List, _PureComponent);\n\n    // Always use explicit constructor for React components.\n    // It produces less code after transpilation. (#26)\n    // eslint-disable-next-line no-useless-constructor\n    function List(props) {\n      var _this;\n\n      _this = _PureComponent.call(this, props) || this;\n      _this._instanceProps = initInstanceProps(_this.props, _assertThisInitialized(_this));\n      _this._outerRef = void 0;\n      _this._resetIsScrollingTimeoutId = null;\n      _this.state = {\n        instance: _assertThisInitialized(_this),\n        isScrolling: false,\n        scrollDirection: 'forward',\n        scrollOffset: typeof _this.props.initialScrollOffset === 'number' ? _this.props.initialScrollOffset : 0,\n        scrollUpdateWasRequested: false\n      };\n      _this._callOnItemsRendered = void 0;\n      _this._callOnItemsRendered = memoizeOne(function (overscanStartIndex, overscanStopIndex, visibleStartIndex, visibleStopIndex) {\n        return _this.props.onItemsRendered({\n          overscanStartIndex: overscanStartIndex,\n          overscanStopIndex: overscanStopIndex,\n          visibleStartIndex: visibleStartIndex,\n          visibleStopIndex: visibleStopIndex\n        });\n      });\n      _this._callOnScroll = void 0;\n      _this._callOnScroll = memoizeOne(function (scrollDirection, scrollOffset, scrollUpdateWasRequested) {\n        return _this.props.onScroll({\n          scrollDirection: scrollDirection,\n          scrollOffset: scrollOffset,\n          scrollUpdateWasRequested: scrollUpdateWasRequested\n        });\n      });\n      _this._getItemStyle = void 0;\n\n      _this._getItemStyle = function (index) {\n        var _this$props = _this.props,\n            direction = _this$props.direction,\n            itemSize = _this$props.itemSize,\n            layout = _this$props.layout;\n\n        var itemStyleCache = _this._getItemStyleCache(shouldResetStyleCacheOnItemSizeChange && itemSize, shouldResetStyleCacheOnItemSizeChange && layout, shouldResetStyleCacheOnItemSizeChange && direction);\n\n        var style;\n\n        if (itemStyleCache.hasOwnProperty(index)) {\n          style = itemStyleCache[index];\n        } else {\n          var _offset = getItemOffset(_this.props, index, _this._instanceProps);\n\n          var size = getItemSize(_this.props, index, _this._instanceProps); // TODO Deprecate direction \"horizontal\"\n\n          var isHorizontal = direction === 'horizontal' || layout === 'horizontal';\n          var isRtl = direction === 'rtl';\n          var offsetHorizontal = isHorizontal ? _offset : 0;\n          itemStyleCache[index] = style = {\n            position: 'absolute',\n            left: isRtl ? undefined : offsetHorizontal,\n            right: isRtl ? offsetHorizontal : undefined,\n            top: !isHorizontal ? _offset : 0,\n            height: !isHorizontal ? size : '100%',\n            width: isHorizontal ? size : '100%'\n          };\n        }\n\n        return style;\n      };\n\n      _this._getItemStyleCache = void 0;\n      _this._getItemStyleCache = memoizeOne(function (_, __, ___) {\n        return {};\n      });\n\n      _this._onScrollHorizontal = function (event) {\n        var _event$currentTarget = event.currentTarget,\n            clientWidth = _event$currentTarget.clientWidth,\n            scrollLeft = _event$currentTarget.scrollLeft,\n            scrollWidth = _event$currentTarget.scrollWidth;\n\n        _this.setState(function (prevState) {\n          if (prevState.scrollOffset === scrollLeft) {\n            // Scroll position may have been updated by cDM/cDU,\n            // In which case we don't need to trigger another render,\n            // And we don't want to update state.isScrolling.\n            return null;\n          }\n\n          var direction = _this.props.direction;\n          var scrollOffset = scrollLeft;\n\n          if (direction === 'rtl') {\n            // TRICKY According to the spec, scrollLeft should be negative for RTL aligned elements.\n            // This is not the case for all browsers though (e.g. Chrome reports values as positive, measured relative to the left).\n            // It's also easier for this component if we convert offsets to the same format as they would be in for ltr.\n            // So the simplest solution is to determine which browser behavior we're dealing with, and convert based on it.\n            switch (getRTLOffsetType()) {\n              case 'negative':\n                scrollOffset = -scrollLeft;\n                break;\n\n              case 'positive-descending':\n                scrollOffset = scrollWidth - clientWidth - scrollLeft;\n                break;\n            }\n          } // Prevent Safari's elastic scrolling from causing visual shaking when scrolling past bounds.\n\n\n          scrollOffset = Math.max(0, Math.min(scrollOffset, scrollWidth - clientWidth));\n          return {\n            isScrolling: true,\n            scrollDirection: prevState.scrollOffset < scrollLeft ? 'forward' : 'backward',\n            scrollOffset: scrollOffset,\n            scrollUpdateWasRequested: false\n          };\n        }, _this._resetIsScrollingDebounced);\n      };\n\n      _this._onScrollVertical = function (event) {\n        var _event$currentTarget2 = event.currentTarget,\n            clientHeight = _event$currentTarget2.clientHeight,\n            scrollHeight = _event$currentTarget2.scrollHeight,\n            scrollTop = _event$currentTarget2.scrollTop;\n\n        _this.setState(function (prevState) {\n          if (prevState.scrollOffset === scrollTop) {\n            // Scroll position may have been updated by cDM/cDU,\n            // In which case we don't need to trigger another render,\n            // And we don't want to update state.isScrolling.\n            return null;\n          } // Prevent Safari's elastic scrolling from causing visual shaking when scrolling past bounds.\n\n\n          var scrollOffset = Math.max(0, Math.min(scrollTop, scrollHeight - clientHeight));\n          return {\n            isScrolling: true,\n            scrollDirection: prevState.scrollOffset < scrollOffset ? 'forward' : 'backward',\n            scrollOffset: scrollOffset,\n            scrollUpdateWasRequested: false\n          };\n        }, _this._resetIsScrollingDebounced);\n      };\n\n      _this._outerRefSetter = function (ref) {\n        var outerRef = _this.props.outerRef;\n        _this._outerRef = ref;\n\n        if (typeof outerRef === 'function') {\n          outerRef(ref);\n        } else if (outerRef != null && typeof outerRef === 'object' && outerRef.hasOwnProperty('current')) {\n          outerRef.current = ref;\n        }\n      };\n\n      _this._resetIsScrollingDebounced = function () {\n        if (_this._resetIsScrollingTimeoutId !== null) {\n          cancelTimeout(_this._resetIsScrollingTimeoutId);\n        }\n\n        _this._resetIsScrollingTimeoutId = requestTimeout(_this._resetIsScrolling, IS_SCROLLING_DEBOUNCE_INTERVAL$1);\n      };\n\n      _this._resetIsScrolling = function () {\n        _this._resetIsScrollingTimeoutId = null;\n\n        _this.setState({\n          isScrolling: false\n        }, function () {\n          // Clear style cache after state update has been committed.\n          // This way we don't break pure sCU for items that don't use isScrolling param.\n          _this._getItemStyleCache(-1, null);\n        });\n      };\n\n      return _this;\n    }\n\n    List.getDerivedStateFromProps = function getDerivedStateFromProps(nextProps, prevState) {\n      validateSharedProps$1(nextProps, prevState);\n      validateProps(nextProps);\n      return null;\n    };\n\n    var _proto = List.prototype;\n\n    _proto.scrollTo = function scrollTo(scrollOffset) {\n      scrollOffset = Math.max(0, scrollOffset);\n      this.setState(function (prevState) {\n        if (prevState.scrollOffset === scrollOffset) {\n          return null;\n        }\n\n        return {\n          scrollDirection: prevState.scrollOffset < scrollOffset ? 'forward' : 'backward',\n          scrollOffset: scrollOffset,\n          scrollUpdateWasRequested: true\n        };\n      }, this._resetIsScrollingDebounced);\n    };\n\n    _proto.scrollToItem = function scrollToItem(index, align) {\n      if (align === void 0) {\n        align = 'auto';\n      }\n\n      var _this$props2 = this.props,\n          itemCount = _this$props2.itemCount,\n          layout = _this$props2.layout;\n      var scrollOffset = this.state.scrollOffset;\n      index = Math.max(0, Math.min(index, itemCount - 1)); // The scrollbar size should be considered when scrolling an item into view, to ensure it's fully visible.\n      // But we only need to account for its size when it's actually visible.\n      // This is an edge case for lists; normally they only scroll in the dominant direction.\n\n      var scrollbarSize = 0;\n\n      if (this._outerRef) {\n        var outerRef = this._outerRef;\n\n        if (layout === 'vertical') {\n          scrollbarSize = outerRef.scrollWidth > outerRef.clientWidth ? getScrollbarSize() : 0;\n        } else {\n          scrollbarSize = outerRef.scrollHeight > outerRef.clientHeight ? getScrollbarSize() : 0;\n        }\n      }\n\n      this.scrollTo(getOffsetForIndexAndAlignment(this.props, index, align, scrollOffset, this._instanceProps, scrollbarSize));\n    };\n\n    _proto.componentDidMount = function componentDidMount() {\n      var _this$props3 = this.props,\n          direction = _this$props3.direction,\n          initialScrollOffset = _this$props3.initialScrollOffset,\n          layout = _this$props3.layout;\n\n      if (typeof initialScrollOffset === 'number' && this._outerRef != null) {\n        var outerRef = this._outerRef; // TODO Deprecate direction \"horizontal\"\n\n        if (direction === 'horizontal' || layout === 'horizontal') {\n          outerRef.scrollLeft = initialScrollOffset;\n        } else {\n          outerRef.scrollTop = initialScrollOffset;\n        }\n      }\n\n      this._callPropsCallbacks();\n    };\n\n    _proto.componentDidUpdate = function componentDidUpdate() {\n      var _this$props4 = this.props,\n          direction = _this$props4.direction,\n          layout = _this$props4.layout;\n      var _this$state = this.state,\n          scrollOffset = _this$state.scrollOffset,\n          scrollUpdateWasRequested = _this$state.scrollUpdateWasRequested;\n\n      if (scrollUpdateWasRequested && this._outerRef != null) {\n        var outerRef = this._outerRef; // TODO Deprecate direction \"horizontal\"\n\n        if (direction === 'horizontal' || layout === 'horizontal') {\n          if (direction === 'rtl') {\n            // TRICKY According to the spec, scrollLeft should be negative for RTL aligned elements.\n            // This is not the case for all browsers though (e.g. Chrome reports values as positive, measured relative to the left).\n            // So we need to determine which browser behavior we're dealing with, and mimic it.\n            switch (getRTLOffsetType()) {\n              case 'negative':\n                outerRef.scrollLeft = -scrollOffset;\n                break;\n\n              case 'positive-ascending':\n                outerRef.scrollLeft = scrollOffset;\n                break;\n\n              default:\n                var clientWidth = outerRef.clientWidth,\n                    scrollWidth = outerRef.scrollWidth;\n                outerRef.scrollLeft = scrollWidth - clientWidth - scrollOffset;\n                break;\n            }\n          } else {\n            outerRef.scrollLeft = scrollOffset;\n          }\n        } else {\n          outerRef.scrollTop = scrollOffset;\n        }\n      }\n\n      this._callPropsCallbacks();\n    };\n\n    _proto.componentWillUnmount = function componentWillUnmount() {\n      if (this._resetIsScrollingTimeoutId !== null) {\n        cancelTimeout(this._resetIsScrollingTimeoutId);\n      }\n    };\n\n    _proto.render = function render() {\n      var _this$props5 = this.props,\n          children = _this$props5.children,\n          className = _this$props5.className,\n          direction = _this$props5.direction,\n          height = _this$props5.height,\n          innerRef = _this$props5.innerRef,\n          innerElementType = _this$props5.innerElementType,\n          innerTagName = _this$props5.innerTagName,\n          itemCount = _this$props5.itemCount,\n          itemData = _this$props5.itemData,\n          _this$props5$itemKey = _this$props5.itemKey,\n          itemKey = _this$props5$itemKey === void 0 ? defaultItemKey$1 : _this$props5$itemKey,\n          layout = _this$props5.layout,\n          outerElementType = _this$props5.outerElementType,\n          outerTagName = _this$props5.outerTagName,\n          style = _this$props5.style,\n          useIsScrolling = _this$props5.useIsScrolling,\n          width = _this$props5.width;\n      var isScrolling = this.state.isScrolling; // TODO Deprecate direction \"horizontal\"\n\n      var isHorizontal = direction === 'horizontal' || layout === 'horizontal';\n      var onScroll = isHorizontal ? this._onScrollHorizontal : this._onScrollVertical;\n\n      var _this$_getRangeToRend = this._getRangeToRender(),\n          startIndex = _this$_getRangeToRend[0],\n          stopIndex = _this$_getRangeToRend[1];\n\n      var items = [];\n\n      if (itemCount > 0) {\n        for (var _index = startIndex; _index <= stopIndex; _index++) {\n          items.push(createElement(children, {\n            data: itemData,\n            key: itemKey(_index, itemData),\n            index: _index,\n            isScrolling: useIsScrolling ? isScrolling : undefined,\n            style: this._getItemStyle(_index)\n          }));\n        }\n      } // Read this value AFTER items have been created,\n      // So their actual sizes (if variable) are taken into consideration.\n\n\n      var estimatedTotalSize = getEstimatedTotalSize(this.props, this._instanceProps);\n      return createElement(outerElementType || outerTagName || 'div', {\n        className: className,\n        onScroll: onScroll,\n        ref: this._outerRefSetter,\n        style: _extends({\n          position: 'relative',\n          height: height,\n          width: width,\n          overflow: 'auto',\n          WebkitOverflowScrolling: 'touch',\n          willChange: 'transform',\n          direction: direction\n        }, style)\n      }, createElement(innerElementType || innerTagName || 'div', {\n        children: items,\n        ref: innerRef,\n        style: {\n          height: isHorizontal ? '100%' : estimatedTotalSize,\n          pointerEvents: isScrolling ? 'none' : undefined,\n          width: isHorizontal ? estimatedTotalSize : '100%'\n        }\n      }));\n    };\n\n    _proto._callPropsCallbacks = function _callPropsCallbacks() {\n      if (typeof this.props.onItemsRendered === 'function') {\n        var itemCount = this.props.itemCount;\n\n        if (itemCount > 0) {\n          var _this$_getRangeToRend2 = this._getRangeToRender(),\n              _overscanStartIndex = _this$_getRangeToRend2[0],\n              _overscanStopIndex = _this$_getRangeToRend2[1],\n              _visibleStartIndex = _this$_getRangeToRend2[2],\n              _visibleStopIndex = _this$_getRangeToRend2[3];\n\n          this._callOnItemsRendered(_overscanStartIndex, _overscanStopIndex, _visibleStartIndex, _visibleStopIndex);\n        }\n      }\n\n      if (typeof this.props.onScroll === 'function') {\n        var _this$state2 = this.state,\n            _scrollDirection = _this$state2.scrollDirection,\n            _scrollOffset = _this$state2.scrollOffset,\n            _scrollUpdateWasRequested = _this$state2.scrollUpdateWasRequested;\n\n        this._callOnScroll(_scrollDirection, _scrollOffset, _scrollUpdateWasRequested);\n      }\n    } // Lazily create and cache item styles while scrolling,\n    // So that pure component sCU will prevent re-renders.\n    // We maintain this cache, and pass a style prop rather than index,\n    // So that List can clear cached styles and force item re-render if necessary.\n    ;\n\n    _proto._getRangeToRender = function _getRangeToRender() {\n      var _this$props6 = this.props,\n          itemCount = _this$props6.itemCount,\n          overscanCount = _this$props6.overscanCount;\n      var _this$state3 = this.state,\n          isScrolling = _this$state3.isScrolling,\n          scrollDirection = _this$state3.scrollDirection,\n          scrollOffset = _this$state3.scrollOffset;\n\n      if (itemCount === 0) {\n        return [0, 0, 0, 0];\n      }\n\n      var startIndex = getStartIndexForOffset(this.props, scrollOffset, this._instanceProps);\n      var stopIndex = getStopIndexForStartIndex(this.props, startIndex, scrollOffset, this._instanceProps); // Overscan by one item in each direction so that tab/focus works.\n      // If there isn't at least one extra item, tab loops back around.\n\n      var overscanBackward = !isScrolling || scrollDirection === 'backward' ? Math.max(1, overscanCount) : 1;\n      var overscanForward = !isScrolling || scrollDirection === 'forward' ? Math.max(1, overscanCount) : 1;\n      return [Math.max(0, startIndex - overscanBackward), Math.max(0, Math.min(itemCount - 1, stopIndex + overscanForward)), startIndex, stopIndex];\n    };\n\n    return List;\n  }(PureComponent), _class.defaultProps = {\n    direction: 'ltr',\n    itemData: undefined,\n    layout: 'vertical',\n    overscanCount: 2,\n    useIsScrolling: false\n  }, _class;\n} // NOTE: I considered further wrapping individual items with a pure ListItem component.\n// This would avoid ever calling the render function for the same index more than once,\n// But it would also add the overhead of a lot of components/fibers.\n// I assume people already do this (render function returning a class component),\n// So my doing it would just unnecessarily double the wrappers.\n\nvar validateSharedProps$1 = function validateSharedProps(_ref2, _ref3) {\n  var children = _ref2.children,\n      direction = _ref2.direction,\n      height = _ref2.height,\n      layout = _ref2.layout,\n      innerTagName = _ref2.innerTagName,\n      outerTagName = _ref2.outerTagName,\n      width = _ref2.width;\n  var instance = _ref3.instance;\n\n  if (process.env.NODE_ENV !== 'production') {\n    if (innerTagName != null || outerTagName != null) {\n      if (devWarningsTagName$1 && !devWarningsTagName$1.has(instance)) {\n        devWarningsTagName$1.add(instance);\n        console.warn('The innerTagName and outerTagName props have been deprecated. ' + 'Please use the innerElementType and outerElementType props instead.');\n      }\n    } // TODO Deprecate direction \"horizontal\"\n\n\n    var isHorizontal = direction === 'horizontal' || layout === 'horizontal';\n\n    switch (direction) {\n      case 'horizontal':\n      case 'vertical':\n        if (devWarningsDirection && !devWarningsDirection.has(instance)) {\n          devWarningsDirection.add(instance);\n          console.warn('The direction prop should be either \"ltr\" (default) or \"rtl\". ' + 'Please use the layout prop to specify \"vertical\" (default) or \"horizontal\" orientation.');\n        }\n\n        break;\n\n      case 'ltr':\n      case 'rtl':\n        // Valid values\n        break;\n\n      default:\n        throw Error('An invalid \"direction\" prop has been specified. ' + 'Value should be either \"ltr\" or \"rtl\". ' + (\"\\\"\" + direction + \"\\\" was specified.\"));\n    }\n\n    switch (layout) {\n      case 'horizontal':\n      case 'vertical':\n        // Valid values\n        break;\n\n      default:\n        throw Error('An invalid \"layout\" prop has been specified. ' + 'Value should be either \"horizontal\" or \"vertical\". ' + (\"\\\"\" + layout + \"\\\" was specified.\"));\n    }\n\n    if (children == null) {\n      throw Error('An invalid \"children\" prop has been specified. ' + 'Value should be a React component. ' + (\"\\\"\" + (children === null ? 'null' : typeof children) + \"\\\" was specified.\"));\n    }\n\n    if (isHorizontal && typeof width !== 'number') {\n      throw Error('An invalid \"width\" prop has been specified. ' + 'Horizontal lists must specify a number for width. ' + (\"\\\"\" + (width === null ? 'null' : typeof width) + \"\\\" was specified.\"));\n    } else if (!isHorizontal && typeof height !== 'number') {\n      throw Error('An invalid \"height\" prop has been specified. ' + 'Vertical lists must specify a number for height. ' + (\"\\\"\" + (height === null ? 'null' : typeof height) + \"\\\" was specified.\"));\n    }\n  }\n};\n\nvar DEFAULT_ESTIMATED_ITEM_SIZE$1 = 50;\n\nvar getItemMetadata$1 = function getItemMetadata(props, index, instanceProps) {\n  var _ref = props,\n      itemSize = _ref.itemSize;\n  var itemMetadataMap = instanceProps.itemMetadataMap,\n      lastMeasuredIndex = instanceProps.lastMeasuredIndex;\n\n  if (index > lastMeasuredIndex) {\n    var offset = 0;\n\n    if (lastMeasuredIndex >= 0) {\n      var itemMetadata = itemMetadataMap[lastMeasuredIndex];\n      offset = itemMetadata.offset + itemMetadata.size;\n    }\n\n    for (var i = lastMeasuredIndex + 1; i <= index; i++) {\n      var size = itemSize(i);\n      itemMetadataMap[i] = {\n        offset: offset,\n        size: size\n      };\n      offset += size;\n    }\n\n    instanceProps.lastMeasuredIndex = index;\n  }\n\n  return itemMetadataMap[index];\n};\n\nvar findNearestItem$1 = function findNearestItem(props, instanceProps, offset) {\n  var itemMetadataMap = instanceProps.itemMetadataMap,\n      lastMeasuredIndex = instanceProps.lastMeasuredIndex;\n  var lastMeasuredItemOffset = lastMeasuredIndex > 0 ? itemMetadataMap[lastMeasuredIndex].offset : 0;\n\n  if (lastMeasuredItemOffset >= offset) {\n    // If we've already measured items within this range just use a binary search as it's faster.\n    return findNearestItemBinarySearch$1(props, instanceProps, lastMeasuredIndex, 0, offset);\n  } else {\n    // If we haven't yet measured this high, fallback to an exponential search with an inner binary search.\n    // The exponential search avoids pre-computing sizes for the full set of items as a binary search would.\n    // The overall complexity for this approach is O(log n).\n    return findNearestItemExponentialSearch$1(props, instanceProps, Math.max(0, lastMeasuredIndex), offset);\n  }\n};\n\nvar findNearestItemBinarySearch$1 = function findNearestItemBinarySearch(props, instanceProps, high, low, offset) {\n  while (low <= high) {\n    var middle = low + Math.floor((high - low) / 2);\n    var currentOffset = getItemMetadata$1(props, middle, instanceProps).offset;\n\n    if (currentOffset === offset) {\n      return middle;\n    } else if (currentOffset < offset) {\n      low = middle + 1;\n    } else if (currentOffset > offset) {\n      high = middle - 1;\n    }\n  }\n\n  if (low > 0) {\n    return low - 1;\n  } else {\n    return 0;\n  }\n};\n\nvar findNearestItemExponentialSearch$1 = function findNearestItemExponentialSearch(props, instanceProps, index, offset) {\n  var itemCount = props.itemCount;\n  var interval = 1;\n\n  while (index < itemCount && getItemMetadata$1(props, index, instanceProps).offset < offset) {\n    index += interval;\n    interval *= 2;\n  }\n\n  return findNearestItemBinarySearch$1(props, instanceProps, Math.min(index, itemCount - 1), Math.floor(index / 2), offset);\n};\n\nvar getEstimatedTotalSize = function getEstimatedTotalSize(_ref2, _ref3) {\n  var itemCount = _ref2.itemCount;\n  var itemMetadataMap = _ref3.itemMetadataMap,\n      estimatedItemSize = _ref3.estimatedItemSize,\n      lastMeasuredIndex = _ref3.lastMeasuredIndex;\n  var totalSizeOfMeasuredItems = 0; // Edge case check for when the number of items decreases while a scroll is in progress.\n  // https://github.com/bvaughn/react-window/pull/138\n\n  if (lastMeasuredIndex >= itemCount) {\n    lastMeasuredIndex = itemCount - 1;\n  }\n\n  if (lastMeasuredIndex >= 0) {\n    var itemMetadata = itemMetadataMap[lastMeasuredIndex];\n    totalSizeOfMeasuredItems = itemMetadata.offset + itemMetadata.size;\n  }\n\n  var numUnmeasuredItems = itemCount - lastMeasuredIndex - 1;\n  var totalSizeOfUnmeasuredItems = numUnmeasuredItems * estimatedItemSize;\n  return totalSizeOfMeasuredItems + totalSizeOfUnmeasuredItems;\n};\n\nvar VariableSizeList = /*#__PURE__*/createListComponent({\n  getItemOffset: function getItemOffset(props, index, instanceProps) {\n    return getItemMetadata$1(props, index, instanceProps).offset;\n  },\n  getItemSize: function getItemSize(props, index, instanceProps) {\n    return instanceProps.itemMetadataMap[index].size;\n  },\n  getEstimatedTotalSize: getEstimatedTotalSize,\n  getOffsetForIndexAndAlignment: function getOffsetForIndexAndAlignment(props, index, align, scrollOffset, instanceProps, scrollbarSize) {\n    var direction = props.direction,\n        height = props.height,\n        layout = props.layout,\n        width = props.width; // TODO Deprecate direction \"horizontal\"\n\n    var isHorizontal = direction === 'horizontal' || layout === 'horizontal';\n    var size = isHorizontal ? width : height;\n    var itemMetadata = getItemMetadata$1(props, index, instanceProps); // Get estimated total size after ItemMetadata is computed,\n    // To ensure it reflects actual measurements instead of just estimates.\n\n    var estimatedTotalSize = getEstimatedTotalSize(props, instanceProps);\n    var maxOffset = Math.max(0, Math.min(estimatedTotalSize - size, itemMetadata.offset));\n    var minOffset = Math.max(0, itemMetadata.offset - size + itemMetadata.size + scrollbarSize);\n\n    if (align === 'smart') {\n      if (scrollOffset >= minOffset - size && scrollOffset <= maxOffset + size) {\n        align = 'auto';\n      } else {\n        align = 'center';\n      }\n    }\n\n    switch (align) {\n      case 'start':\n        return maxOffset;\n\n      case 'end':\n        return minOffset;\n\n      case 'center':\n        return Math.round(minOffset + (maxOffset - minOffset) / 2);\n\n      case 'auto':\n      default:\n        if (scrollOffset >= minOffset && scrollOffset <= maxOffset) {\n          return scrollOffset;\n        } else if (scrollOffset < minOffset) {\n          return minOffset;\n        } else {\n          return maxOffset;\n        }\n\n    }\n  },\n  getStartIndexForOffset: function getStartIndexForOffset(props, offset, instanceProps) {\n    return findNearestItem$1(props, instanceProps, offset);\n  },\n  getStopIndexForStartIndex: function getStopIndexForStartIndex(props, startIndex, scrollOffset, instanceProps) {\n    var direction = props.direction,\n        height = props.height,\n        itemCount = props.itemCount,\n        layout = props.layout,\n        width = props.width; // TODO Deprecate direction \"horizontal\"\n\n    var isHorizontal = direction === 'horizontal' || layout === 'horizontal';\n    var size = isHorizontal ? width : height;\n    var itemMetadata = getItemMetadata$1(props, startIndex, instanceProps);\n    var maxOffset = scrollOffset + size;\n    var offset = itemMetadata.offset + itemMetadata.size;\n    var stopIndex = startIndex;\n\n    while (stopIndex < itemCount - 1 && offset < maxOffset) {\n      stopIndex++;\n      offset += getItemMetadata$1(props, stopIndex, instanceProps).size;\n    }\n\n    return stopIndex;\n  },\n  initInstanceProps: function initInstanceProps(props, instance) {\n    var _ref4 = props,\n        estimatedItemSize = _ref4.estimatedItemSize;\n    var instanceProps = {\n      itemMetadataMap: {},\n      estimatedItemSize: estimatedItemSize || DEFAULT_ESTIMATED_ITEM_SIZE$1,\n      lastMeasuredIndex: -1\n    };\n\n    instance.resetAfterIndex = function (index, shouldForceUpdate) {\n      if (shouldForceUpdate === void 0) {\n        shouldForceUpdate = true;\n      }\n\n      instanceProps.lastMeasuredIndex = Math.min(instanceProps.lastMeasuredIndex, index - 1); // We could potentially optimize further by only evicting styles after this index,\n      // But since styles are only cached while scrolling is in progress-\n      // It seems an unnecessary optimization.\n      // It's unlikely that resetAfterIndex() will be called while a user is scrolling.\n\n      instance._getItemStyleCache(-1);\n\n      if (shouldForceUpdate) {\n        instance.forceUpdate();\n      }\n    };\n\n    return instanceProps;\n  },\n  shouldResetStyleCacheOnItemSizeChange: false,\n  validateProps: function validateProps(_ref5) {\n    var itemSize = _ref5.itemSize;\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (typeof itemSize !== 'function') {\n        throw Error('An invalid \"itemSize\" prop has been specified. ' + 'Value should be a function. ' + (\"\\\"\" + (itemSize === null ? 'null' : typeof itemSize) + \"\\\" was specified.\"));\n      }\n    }\n  }\n});\n\nvar FixedSizeGrid = /*#__PURE__*/createGridComponent({\n  getColumnOffset: function getColumnOffset(_ref, index) {\n    var columnWidth = _ref.columnWidth;\n    return index * columnWidth;\n  },\n  getColumnWidth: function getColumnWidth(_ref2, index) {\n    var columnWidth = _ref2.columnWidth;\n    return columnWidth;\n  },\n  getRowOffset: function getRowOffset(_ref3, index) {\n    var rowHeight = _ref3.rowHeight;\n    return index * rowHeight;\n  },\n  getRowHeight: function getRowHeight(_ref4, index) {\n    var rowHeight = _ref4.rowHeight;\n    return rowHeight;\n  },\n  getEstimatedTotalHeight: function getEstimatedTotalHeight(_ref5) {\n    var rowCount = _ref5.rowCount,\n        rowHeight = _ref5.rowHeight;\n    return rowHeight * rowCount;\n  },\n  getEstimatedTotalWidth: function getEstimatedTotalWidth(_ref6) {\n    var columnCount = _ref6.columnCount,\n        columnWidth = _ref6.columnWidth;\n    return columnWidth * columnCount;\n  },\n  getOffsetForColumnAndAlignment: function getOffsetForColumnAndAlignment(_ref7, columnIndex, align, scrollLeft, instanceProps, scrollbarSize) {\n    var columnCount = _ref7.columnCount,\n        columnWidth = _ref7.columnWidth,\n        width = _ref7.width;\n    var lastColumnOffset = Math.max(0, columnCount * columnWidth - width);\n    var maxOffset = Math.min(lastColumnOffset, columnIndex * columnWidth);\n    var minOffset = Math.max(0, columnIndex * columnWidth - width + scrollbarSize + columnWidth);\n\n    if (align === 'smart') {\n      if (scrollLeft >= minOffset - width && scrollLeft <= maxOffset + width) {\n        align = 'auto';\n      } else {\n        align = 'center';\n      }\n    }\n\n    switch (align) {\n      case 'start':\n        return maxOffset;\n\n      case 'end':\n        return minOffset;\n\n      case 'center':\n        // \"Centered\" offset is usually the average of the min and max.\n        // But near the edges of the list, this doesn't hold true.\n        var middleOffset = Math.round(minOffset + (maxOffset - minOffset) / 2);\n\n        if (middleOffset < Math.ceil(width / 2)) {\n          return 0; // near the beginning\n        } else if (middleOffset > lastColumnOffset + Math.floor(width / 2)) {\n          return lastColumnOffset; // near the end\n        } else {\n          return middleOffset;\n        }\n\n      case 'auto':\n      default:\n        if (scrollLeft >= minOffset && scrollLeft <= maxOffset) {\n          return scrollLeft;\n        } else if (minOffset > maxOffset) {\n          // Because we only take into account the scrollbar size when calculating minOffset\n          // this value can be larger than maxOffset when at the end of the list\n          return minOffset;\n        } else if (scrollLeft < minOffset) {\n          return minOffset;\n        } else {\n          return maxOffset;\n        }\n\n    }\n  },\n  getOffsetForRowAndAlignment: function getOffsetForRowAndAlignment(_ref8, rowIndex, align, scrollTop, instanceProps, scrollbarSize) {\n    var rowHeight = _ref8.rowHeight,\n        height = _ref8.height,\n        rowCount = _ref8.rowCount;\n    var lastRowOffset = Math.max(0, rowCount * rowHeight - height);\n    var maxOffset = Math.min(lastRowOffset, rowIndex * rowHeight);\n    var minOffset = Math.max(0, rowIndex * rowHeight - height + scrollbarSize + rowHeight);\n\n    if (align === 'smart') {\n      if (scrollTop >= minOffset - height && scrollTop <= maxOffset + height) {\n        align = 'auto';\n      } else {\n        align = 'center';\n      }\n    }\n\n    switch (align) {\n      case 'start':\n        return maxOffset;\n\n      case 'end':\n        return minOffset;\n\n      case 'center':\n        // \"Centered\" offset is usually the average of the min and max.\n        // But near the edges of the list, this doesn't hold true.\n        var middleOffset = Math.round(minOffset + (maxOffset - minOffset) / 2);\n\n        if (middleOffset < Math.ceil(height / 2)) {\n          return 0; // near the beginning\n        } else if (middleOffset > lastRowOffset + Math.floor(height / 2)) {\n          return lastRowOffset; // near the end\n        } else {\n          return middleOffset;\n        }\n\n      case 'auto':\n      default:\n        if (scrollTop >= minOffset && scrollTop <= maxOffset) {\n          return scrollTop;\n        } else if (minOffset > maxOffset) {\n          // Because we only take into account the scrollbar size when calculating minOffset\n          // this value can be larger than maxOffset when at the end of the list\n          return minOffset;\n        } else if (scrollTop < minOffset) {\n          return minOffset;\n        } else {\n          return maxOffset;\n        }\n\n    }\n  },\n  getColumnStartIndexForOffset: function getColumnStartIndexForOffset(_ref9, scrollLeft) {\n    var columnWidth = _ref9.columnWidth,\n        columnCount = _ref9.columnCount;\n    return Math.max(0, Math.min(columnCount - 1, Math.floor(scrollLeft / columnWidth)));\n  },\n  getColumnStopIndexForStartIndex: function getColumnStopIndexForStartIndex(_ref10, startIndex, scrollLeft) {\n    var columnWidth = _ref10.columnWidth,\n        columnCount = _ref10.columnCount,\n        width = _ref10.width;\n    var left = startIndex * columnWidth;\n    var numVisibleColumns = Math.ceil((width + scrollLeft - left) / columnWidth);\n    return Math.max(0, Math.min(columnCount - 1, startIndex + numVisibleColumns - 1 // -1 is because stop index is inclusive\n    ));\n  },\n  getRowStartIndexForOffset: function getRowStartIndexForOffset(_ref11, scrollTop) {\n    var rowHeight = _ref11.rowHeight,\n        rowCount = _ref11.rowCount;\n    return Math.max(0, Math.min(rowCount - 1, Math.floor(scrollTop / rowHeight)));\n  },\n  getRowStopIndexForStartIndex: function getRowStopIndexForStartIndex(_ref12, startIndex, scrollTop) {\n    var rowHeight = _ref12.rowHeight,\n        rowCount = _ref12.rowCount,\n        height = _ref12.height;\n    var top = startIndex * rowHeight;\n    var numVisibleRows = Math.ceil((height + scrollTop - top) / rowHeight);\n    return Math.max(0, Math.min(rowCount - 1, startIndex + numVisibleRows - 1 // -1 is because stop index is inclusive\n    ));\n  },\n  initInstanceProps: function initInstanceProps(props) {// Noop\n  },\n  shouldResetStyleCacheOnItemSizeChange: true,\n  validateProps: function validateProps(_ref13) {\n    var columnWidth = _ref13.columnWidth,\n        rowHeight = _ref13.rowHeight;\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (typeof columnWidth !== 'number') {\n        throw Error('An invalid \"columnWidth\" prop has been specified. ' + 'Value should be a number. ' + (\"\\\"\" + (columnWidth === null ? 'null' : typeof columnWidth) + \"\\\" was specified.\"));\n      }\n\n      if (typeof rowHeight !== 'number') {\n        throw Error('An invalid \"rowHeight\" prop has been specified. ' + 'Value should be a number. ' + (\"\\\"\" + (rowHeight === null ? 'null' : typeof rowHeight) + \"\\\" was specified.\"));\n      }\n    }\n  }\n});\n\nvar FixedSizeList = /*#__PURE__*/createListComponent({\n  getItemOffset: function getItemOffset(_ref, index) {\n    var itemSize = _ref.itemSize;\n    return index * itemSize;\n  },\n  getItemSize: function getItemSize(_ref2, index) {\n    var itemSize = _ref2.itemSize;\n    return itemSize;\n  },\n  getEstimatedTotalSize: function getEstimatedTotalSize(_ref3) {\n    var itemCount = _ref3.itemCount,\n        itemSize = _ref3.itemSize;\n    return itemSize * itemCount;\n  },\n  getOffsetForIndexAndAlignment: function getOffsetForIndexAndAlignment(_ref4, index, align, scrollOffset, instanceProps, scrollbarSize) {\n    var direction = _ref4.direction,\n        height = _ref4.height,\n        itemCount = _ref4.itemCount,\n        itemSize = _ref4.itemSize,\n        layout = _ref4.layout,\n        width = _ref4.width;\n    // TODO Deprecate direction \"horizontal\"\n    var isHorizontal = direction === 'horizontal' || layout === 'horizontal';\n    var size = isHorizontal ? width : height;\n    var lastItemOffset = Math.max(0, itemCount * itemSize - size);\n    var maxOffset = Math.min(lastItemOffset, index * itemSize);\n    var minOffset = Math.max(0, index * itemSize - size + itemSize + scrollbarSize);\n\n    if (align === 'smart') {\n      if (scrollOffset >= minOffset - size && scrollOffset <= maxOffset + size) {\n        align = 'auto';\n      } else {\n        align = 'center';\n      }\n    }\n\n    switch (align) {\n      case 'start':\n        return maxOffset;\n\n      case 'end':\n        return minOffset;\n\n      case 'center':\n        {\n          // \"Centered\" offset is usually the average of the min and max.\n          // But near the edges of the list, this doesn't hold true.\n          var middleOffset = Math.round(minOffset + (maxOffset - minOffset) / 2);\n\n          if (middleOffset < Math.ceil(size / 2)) {\n            return 0; // near the beginning\n          } else if (middleOffset > lastItemOffset + Math.floor(size / 2)) {\n            return lastItemOffset; // near the end\n          } else {\n            return middleOffset;\n          }\n        }\n\n      case 'auto':\n      default:\n        if (scrollOffset >= minOffset && scrollOffset <= maxOffset) {\n          return scrollOffset;\n        } else if (scrollOffset < minOffset) {\n          return minOffset;\n        } else {\n          return maxOffset;\n        }\n\n    }\n  },\n  getStartIndexForOffset: function getStartIndexForOffset(_ref5, offset) {\n    var itemCount = _ref5.itemCount,\n        itemSize = _ref5.itemSize;\n    return Math.max(0, Math.min(itemCount - 1, Math.floor(offset / itemSize)));\n  },\n  getStopIndexForStartIndex: function getStopIndexForStartIndex(_ref6, startIndex, scrollOffset) {\n    var direction = _ref6.direction,\n        height = _ref6.height,\n        itemCount = _ref6.itemCount,\n        itemSize = _ref6.itemSize,\n        layout = _ref6.layout,\n        width = _ref6.width;\n    // TODO Deprecate direction \"horizontal\"\n    var isHorizontal = direction === 'horizontal' || layout === 'horizontal';\n    var offset = startIndex * itemSize;\n    var size = isHorizontal ? width : height;\n    var numVisibleItems = Math.ceil((size + scrollOffset - offset) / itemSize);\n    return Math.max(0, Math.min(itemCount - 1, startIndex + numVisibleItems - 1 // -1 is because stop index is inclusive\n    ));\n  },\n  initInstanceProps: function initInstanceProps(props) {// Noop\n  },\n  shouldResetStyleCacheOnItemSizeChange: true,\n  validateProps: function validateProps(_ref7) {\n    var itemSize = _ref7.itemSize;\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (typeof itemSize !== 'number') {\n        throw Error('An invalid \"itemSize\" prop has been specified. ' + 'Value should be a number. ' + (\"\\\"\" + (itemSize === null ? 'null' : typeof itemSize) + \"\\\" was specified.\"));\n      }\n    }\n  }\n});\n\n// Pulled from react-compat\n// https://github.com/developit/preact-compat/blob/7c5de00e7c85e2ffd011bf3af02899b63f699d3a/src/index.js#L349\nfunction shallowDiffers(prev, next) {\n  for (var attribute in prev) {\n    if (!(attribute in next)) {\n      return true;\n    }\n  }\n\n  for (var _attribute in next) {\n    if (prev[_attribute] !== next[_attribute]) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\nvar _excluded = [\"style\"],\n    _excluded2 = [\"style\"];\n// It knows to compare individual style props and ignore the wrapper object.\n// See https://reactjs.org/docs/react-api.html#reactmemo\n\nfunction areEqual(prevProps, nextProps) {\n  var prevStyle = prevProps.style,\n      prevRest = _objectWithoutPropertiesLoose(prevProps, _excluded);\n\n  var nextStyle = nextProps.style,\n      nextRest = _objectWithoutPropertiesLoose(nextProps, _excluded2);\n\n  return !shallowDiffers(prevStyle, nextStyle) && !shallowDiffers(prevRest, nextRest);\n}\n\n// It knows to compare individual style props and ignore the wrapper object.\n// See https://reactjs.org/docs/react-component.html#shouldcomponentupdate\n\nfunction shouldComponentUpdate(nextProps, nextState) {\n  return !areEqual(this.props, nextProps) || shallowDiffers(this.state, nextState);\n}\n\nexport { FixedSizeGrid, FixedSizeList, VariableSizeGrid, VariableSizeList, areEqual, shouldComponentUpdate };\n//# sourceMappingURL=index.esm.js.map\n","export default function ansiRegex({onlyFirst = false} = {}) {\n\tconst pattern = [\n\t    '[\\\\u001B\\\\u009B][[\\\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\\\d\\\\/#&.:=?%@~_]+)*|[a-zA-Z\\\\d]+(?:;[-a-zA-Z\\\\d\\\\/#&.:=?%@~_]*)*)?\\\\u0007)',\n\t\t'(?:(?:\\\\d{1,4}(?:;\\\\d{0,4})*)?[\\\\dA-PR-TZcf-ntqry=><~]))'\n\t].join('|');\n\n\treturn new RegExp(pattern, onlyFirst ? undefined : 'g');\n}\n","import { useCallback } from 'react';\nimport { useSyncedRef } from \"../useSyncedRef/useSyncedRef.js\";\nimport { useSafeState } from \"../useSafeState/useSafeState.js\";\nimport { resolveHookState } from \"../util/resolveHookState.js\";\n/**\n * Like `useSafeState`, but can only become `true` or `false`.\n *\n * State setter, in case called without arguments, will change the state to opposite. React\n * synthetic events are ignored by default so state setter can be used as event handler directly,\n * such behaviour can be changed by setting 2nd parameter to `false`.\n */\nexport function useToggle(initialState, ignoreReactEvents) {\n    if (initialState === void 0) { initialState = false; }\n    if (ignoreReactEvents === void 0) { ignoreReactEvents = true; }\n    // We don't use useReducer (which would end up with less code), because exposed\n    // action does not provide functional updates feature.\n    // Therefore, we have to create and expose our own state setter with\n    // toggle logic.\n    var _a = useSafeState(initialState), state = _a[0], setState = _a[1];\n    var ignoreReactEventsRef = useSyncedRef(ignoreReactEvents);\n    return [\n        state,\n        useCallback(function (nextState) {\n            setState(function (prevState) {\n                if (typeof nextState === 'undefined' ||\n                    (ignoreReactEventsRef.current &&\n                        typeof nextState === 'object' &&\n                        (nextState.constructor.name === 'SyntheticBaseEvent' ||\n                            // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access,no-underscore-dangle,@typescript-eslint/no-explicit-any\n                            typeof nextState._reactName === 'string'))) {\n                    return !prevState;\n                }\n                return Boolean(resolveHookState(nextState, prevState));\n            });\n            // eslint-disable-next-line react-hooks/exhaustive-deps\n        }, []),\n    ];\n}\n","import Box from '@material-ui/core/Box';\nimport IconButton from '@material-ui/core/IconButton';\nimport CopyIcon from '@material-ui/icons/FileCopy';\nimport classNames from 'classnames';\nimport React, { useMemo, useState, useEffect, useRef } from 'react';\nimport { useLocation } from 'react-router-dom';\nimport AutoSizer from 'react-virtualized-auto-sizer';\nimport { FixedSizeList } from 'react-window';\nimport ansiRegexMaker from 'ansi-regex';\nimport startCase from 'lodash/startCase';\nimport TextField from '@material-ui/core/TextField';\nimport Typography from '@material-ui/core/Typography';\nimport ChevronLeftIcon from '@material-ui/icons/ChevronLeft';\nimport ChevronRight from '@material-ui/icons/ChevronRight';\nimport FilterList from '@material-ui/icons/FilterList';\nimport { makeStyles, alpha } from '@material-ui/core/styles';\nimport * as colors from '@material-ui/core/colors';\nimport { useToggle } from '@react-hookz/web';\nimport { useApi, errorApiRef } from '@backstage/core-plugin-api';\nimport useCopyToClipboard from 'react-use/lib/useCopyToClipboard';\n\nconst ansiRegex = ansiRegexMaker();\nconst newlineRegex = /\\n\\r?/g;\nconst codeModifiers = Object.fromEntries(\n  Object.entries({\n    1: (m) => ({ ...m, bold: true }),\n    3: (m) => ({ ...m, italic: true }),\n    4: (m) => ({ ...m, underline: true }),\n    22: ({ bold: _, ...m }) => m,\n    23: ({ italic: _, ...m }) => m,\n    24: ({ underline: _, ...m }) => m,\n    30: (m) => ({ ...m, foreground: \"black\" }),\n    31: (m) => ({ ...m, foreground: \"red\" }),\n    32: (m) => ({ ...m, foreground: \"green\" }),\n    33: (m) => ({ ...m, foreground: \"yellow\" }),\n    34: (m) => ({ ...m, foreground: \"blue\" }),\n    35: (m) => ({ ...m, foreground: \"magenta\" }),\n    36: (m) => ({ ...m, foreground: \"cyan\" }),\n    37: (m) => ({ ...m, foreground: \"white\" }),\n    39: ({ foreground: _, ...m }) => m,\n    90: (m) => ({ ...m, foreground: \"grey\" }),\n    40: (m) => ({ ...m, background: \"black\" }),\n    41: (m) => ({ ...m, background: \"red\" }),\n    42: (m) => ({ ...m, background: \"green\" }),\n    43: (m) => ({ ...m, background: \"yellow\" }),\n    44: (m) => ({ ...m, background: \"blue\" }),\n    45: (m) => ({ ...m, background: \"magenta\" }),\n    46: (m) => ({ ...m, background: \"cyan\" }),\n    47: (m) => ({ ...m, background: \"white\" }),\n    49: ({ background: _, ...m }) => m\n  }).map(\n    ([code, modifier]) => [`\\x1B[${code}m`, modifier]\n  )\n);\nclass AnsiLine {\n  constructor(lineNumber = 1, chunks = []) {\n    this.lineNumber = lineNumber;\n    this.chunks = chunks;\n    this.text = chunks.map((c) => c.text).join(\"\").toLocaleLowerCase(\"en-US\");\n  }\n  lastChunk() {\n    return this.chunks[this.chunks.length - 1];\n  }\n  replaceLastChunk(newChunks) {\n    if (newChunks) {\n      this.chunks.splice(this.chunks.length - 1, 1, ...newChunks);\n      this.text = this.chunks.map((c) => c.text).join(\"\").toLocaleLowerCase(\"en-US\");\n    }\n  }\n}\nclass AnsiProcessor {\n  constructor() {\n    this.text = \"\";\n    this.lines = [];\n    this.processLines = (text, modifiers = {}, startingLineNumber = 1) => {\n      var _a;\n      const lines = [];\n      let currentModifiers = modifiers;\n      let currentLineNumber = startingLineNumber;\n      let prevIndex = 0;\n      newlineRegex.lastIndex = 0;\n      for (; ; ) {\n        const match = newlineRegex.exec(text);\n        if (!match) {\n          const chunks2 = this.processText(\n            text.slice(prevIndex),\n            currentModifiers\n          );\n          lines.push(new AnsiLine(currentLineNumber, chunks2));\n          return lines;\n        }\n        const line = text.slice(prevIndex, match.index);\n        prevIndex = match.index + match[0].length;\n        const chunks = this.processText(line, currentModifiers);\n        lines.push(new AnsiLine(currentLineNumber, chunks));\n        currentModifiers = (_a = chunks[chunks.length - 1].modifiers) != null ? _a : currentModifiers;\n        currentLineNumber += 1;\n      }\n    };\n    this.processText = (fullText, modifiers) => {\n      const chunks = [];\n      let currentModifiers = modifiers;\n      let prevIndex = 0;\n      ansiRegex.lastIndex = 0;\n      for (; ; ) {\n        const match = ansiRegex.exec(fullText);\n        if (!match) {\n          chunks.push({\n            text: fullText.slice(prevIndex),\n            modifiers: currentModifiers\n          });\n          return chunks;\n        }\n        const text = fullText.slice(prevIndex, match.index);\n        chunks.push({ text, modifiers: currentModifiers });\n        prevIndex = match.index + match[0].length;\n        currentModifiers = this.processCode(match[0], currentModifiers);\n      }\n    };\n    this.processCode = (code, modifiers) => {\n      var _a, _b;\n      return (_b = (_a = codeModifiers[code]) == null ? void 0 : _a.call(codeModifiers, modifiers)) != null ? _b : modifiers;\n    };\n  }\n  process(text) {\n    var _a, _b, _c;\n    if (this.text === text) {\n      return this.lines;\n    }\n    if (text.startsWith(this.text)) {\n      const lastLineIndex = this.lines.length > 0 ? this.lines.length - 1 : 0;\n      const lastLine = (_a = this.lines[lastLineIndex]) != null ? _a : new AnsiLine();\n      const lastChunk = lastLine.lastChunk();\n      const newLines = this.processLines(\n        ((_b = lastChunk == null ? void 0 : lastChunk.text) != null ? _b : \"\") + text.slice(this.text.length),\n        lastChunk == null ? void 0 : lastChunk.modifiers,\n        lastLine == null ? void 0 : lastLine.lineNumber\n      );\n      lastLine.replaceLastChunk((_c = newLines[0]) == null ? void 0 : _c.chunks);\n      this.lines[lastLineIndex] = lastLine;\n      this.lines.push(...newLines.slice(1));\n    } else {\n      this.lines = this.processLines(text);\n    }\n    this.text = text;\n    return this.lines;\n  }\n}\n\nfunction getModifierClasses(classes, modifiers) {\n  const classNames = new Array();\n  if (modifiers.bold) {\n    classNames.push(classes.modifierBold);\n  }\n  if (modifiers.italic) {\n    classNames.push(classes.modifierItalic);\n  }\n  if (modifiers.underline) {\n    classNames.push(classes.modifierUnderline);\n  }\n  if (modifiers.foreground) {\n    const key = `modifierForeground${startCase(\n      modifiers.foreground\n    )}`;\n    classNames.push(classes[key]);\n  }\n  if (modifiers.background) {\n    const key = `modifierBackground${startCase(\n      modifiers.background\n    )}`;\n    classNames.push(classes[key]);\n  }\n  return classNames.length > 0 ? classNames.join(\" \") : void 0;\n}\nfunction findSearchResults(text, searchText) {\n  if (!searchText || !text.includes(searchText)) {\n    return void 0;\n  }\n  const searchResults = new Array();\n  let offset = 0;\n  for (; ; ) {\n    const start = text.indexOf(searchText, offset);\n    if (start === -1) {\n      break;\n    }\n    const end = start + searchText.length;\n    searchResults.push({ start, end });\n    offset = end;\n  }\n  return searchResults;\n}\nfunction calculateHighlightedChunks(line, searchText) {\n  const results = findSearchResults(line.text, searchText);\n  if (!results) {\n    return line.chunks;\n  }\n  const chunks = new Array();\n  let lineOffset = 0;\n  let resultIndex = 0;\n  let result = results[resultIndex];\n  for (const chunk of line.chunks) {\n    const { text, modifiers } = chunk;\n    if (!result || lineOffset + text.length < result.start) {\n      chunks.push(chunk);\n      lineOffset += text.length;\n      continue;\n    }\n    let localOffset = 0;\n    while (result) {\n      const localStart = Math.max(result.start - lineOffset, 0);\n      if (localStart > text.length) {\n        break;\n      }\n      const localEnd = Math.min(result.end - lineOffset, text.length);\n      const hasTextBeforeResult = localStart > localOffset;\n      if (hasTextBeforeResult) {\n        chunks.push({ text: text.slice(localOffset, localStart), modifiers });\n      }\n      const hasResultText = localEnd > localStart;\n      if (hasResultText) {\n        chunks.push({\n          modifiers,\n          highlight: resultIndex,\n          text: text.slice(localStart, localEnd)\n        });\n      }\n      localOffset = localEnd;\n      const foundCompleteResult = result.end - lineOffset === localEnd;\n      if (foundCompleteResult) {\n        resultIndex += 1;\n        result = results[resultIndex];\n      } else {\n        break;\n      }\n    }\n    const hasTextAfterResult = localOffset < text.length;\n    if (hasTextAfterResult) {\n      chunks.push({ text: text.slice(localOffset), modifiers });\n    }\n    lineOffset += text.length;\n  }\n  return chunks;\n}\nfunction LogLine({\n  line,\n  classes,\n  searchText,\n  highlightResultIndex\n}) {\n  const chunks = useMemo(\n    () => calculateHighlightedChunks(line, searchText),\n    [line, searchText]\n  );\n  const elements = useMemo(\n    () => chunks.map(({ text, modifiers, highlight }, index) => /* @__PURE__ */ React.createElement(\n      \"span\",\n      {\n        key: index,\n        className: classNames(\n          getModifierClasses(classes, modifiers),\n          highlight !== void 0 && (highlight === highlightResultIndex ? classes.textSelectedHighlight : classes.textHighlight)\n        )\n      },\n      text\n    )),\n    [chunks, highlightResultIndex, classes]\n  );\n  return /* @__PURE__ */ React.createElement(React.Fragment, null, elements);\n}\n\nfunction LogViewerControls(props) {\n  var _a;\n  const { resultCount, resultIndexStep, toggleShouldFilter } = props;\n  const resultIndex = (_a = props.resultIndex) != null ? _a : 0;\n  const handleKeyPress = (event) => {\n    if (event.key === \"Enter\") {\n      if (event.metaKey || event.ctrlKey || event.altKey) {\n        toggleShouldFilter();\n      } else {\n        resultIndexStep(event.shiftKey);\n      }\n    }\n  };\n  return /* @__PURE__ */ React.createElement(React.Fragment, null, resultCount !== void 0 && /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement(IconButton, { size: \"small\", onClick: () => resultIndexStep(true) }, /* @__PURE__ */ React.createElement(ChevronLeftIcon, null)), /* @__PURE__ */ React.createElement(Typography, null, Math.min(resultIndex + 1, resultCount), \"/\", resultCount), /* @__PURE__ */ React.createElement(IconButton, { size: \"small\", onClick: () => resultIndexStep() }, /* @__PURE__ */ React.createElement(ChevronRight, null))), /* @__PURE__ */ React.createElement(\n    TextField,\n    {\n      size: \"small\",\n      variant: \"standard\",\n      placeholder: \"Search\",\n      value: props.searchInput,\n      onKeyPress: handleKeyPress,\n      onChange: (e) => props.setSearchInput(e.target.value)\n    }\n  ), /* @__PURE__ */ React.createElement(IconButton, { size: \"small\", onClick: toggleShouldFilter }, props.shouldFilter ? /* @__PURE__ */ React.createElement(FilterList, { color: \"primary\" }) : /* @__PURE__ */ React.createElement(FilterList, { color: \"disabled\" })));\n}\n\nconst HEADER_SIZE = 40;\nconst useStyles = makeStyles(\n  (theme) => ({\n    root: {\n      background: theme.palette.background.paper\n    },\n    header: {\n      height: HEADER_SIZE,\n      display: \"flex\",\n      alignItems: \"center\",\n      justifyContent: \"flex-end\"\n    },\n    log: {\n      fontFamily: '\"Monaco\", monospace',\n      fontSize: theme.typography.pxToRem(12)\n    },\n    line: {\n      position: \"relative\",\n      whiteSpace: \"pre\",\n      \"&:hover\": {\n        background: theme.palette.action.hover\n      }\n    },\n    lineSelected: {\n      background: theme.palette.action.selected,\n      \"&:hover\": {\n        background: theme.palette.action.selected\n      }\n    },\n    lineCopyButton: {\n      position: \"absolute\",\n      paddingTop: 0,\n      paddingBottom: 0\n    },\n    lineNumber: {\n      display: \"inline-block\",\n      textAlign: \"end\",\n      width: 60,\n      marginRight: theme.spacing(1),\n      cursor: \"pointer\"\n    },\n    textHighlight: {\n      background: alpha(theme.palette.info.main, 0.15)\n    },\n    textSelectedHighlight: {\n      background: alpha(theme.palette.info.main, 0.4)\n    },\n    modifierBold: {\n      fontWeight: theme.typography.fontWeightBold\n    },\n    modifierItalic: {\n      fontStyle: \"italic\"\n    },\n    modifierUnderline: {\n      textDecoration: \"underline\"\n    },\n    modifierForegroundBlack: {\n      color: colors.common.black\n    },\n    modifierForegroundRed: {\n      color: colors.red[500]\n    },\n    modifierForegroundGreen: {\n      color: colors.green[500]\n    },\n    modifierForegroundYellow: {\n      color: colors.yellow[500]\n    },\n    modifierForegroundBlue: {\n      color: colors.blue[500]\n    },\n    modifierForegroundMagenta: {\n      color: colors.purple[500]\n    },\n    modifierForegroundCyan: {\n      color: colors.cyan[500]\n    },\n    modifierForegroundWhite: {\n      color: colors.common.white\n    },\n    modifierForegroundGrey: {\n      color: colors.grey[500]\n    },\n    modifierBackgroundBlack: {\n      background: colors.common.black\n    },\n    modifierBackgroundRed: {\n      background: colors.red[500]\n    },\n    modifierBackgroundGreen: {\n      background: colors.green[500]\n    },\n    modifierBackgroundYellow: {\n      background: colors.yellow[500]\n    },\n    modifierBackgroundBlue: {\n      background: colors.blue[500]\n    },\n    modifierBackgroundMagenta: {\n      background: colors.purple[500]\n    },\n    modifierBackgroundCyan: {\n      background: colors.cyan[500]\n    },\n    modifierBackgroundWhite: {\n      background: colors.common.white\n    },\n    modifierBackgroundGrey: {\n      background: colors.grey[500]\n    }\n  }),\n  { name: \"BackstageLogViewer\" }\n);\n\nfunction applySearchFilter(lines, searchText) {\n  if (!searchText) {\n    return { lines };\n  }\n  const matchingLines = [];\n  const searchResults = [];\n  for (const line of lines) {\n    if (line.text.includes(searchText)) {\n      matchingLines.push(line);\n      let offset = 0;\n      let lineResultIndex = 0;\n      for (; ; ) {\n        const start = line.text.indexOf(searchText, offset);\n        if (start === -1) {\n          break;\n        }\n        searchResults.push({\n          lineNumber: line.lineNumber,\n          lineIndex: lineResultIndex++\n        });\n        offset = start + searchText.length;\n      }\n    }\n  }\n  return {\n    lines: matchingLines,\n    results: searchResults\n  };\n}\nfunction useLogViewerSearch(lines) {\n  var _a;\n  const [searchInput, setSearchInput] = useState(\"\");\n  const searchText = searchInput.toLocaleLowerCase(\"en-US\");\n  const [resultIndex, setResultIndex] = useState(0);\n  const [shouldFilter, toggleShouldFilter] = useToggle(false);\n  const filter = useMemo(\n    () => applySearchFilter(lines, searchText),\n    [lines, searchText]\n  );\n  const searchResult = filter.results ? filter.results[Math.min(resultIndex, filter.results.length - 1)] : void 0;\n  const resultCount = (_a = filter.results) == null ? void 0 : _a.length;\n  const resultIndexStep = (decrement) => {\n    if (decrement) {\n      if (resultCount !== void 0) {\n        const next = Math.min(resultIndex - 1, resultCount - 2);\n        setResultIndex(next < 0 ? resultCount - 1 : next);\n      }\n    } else {\n      if (resultCount !== void 0) {\n        const next = resultIndex + 1;\n        setResultIndex(next >= resultCount ? 0 : next);\n      }\n    }\n  };\n  return {\n    lines: shouldFilter ? filter.lines : lines,\n    searchText,\n    searchInput,\n    setSearchInput,\n    shouldFilter,\n    toggleShouldFilter,\n    resultCount,\n    resultIndex,\n    resultIndexStep,\n    resultLine: searchResult == null ? void 0 : searchResult.lineNumber,\n    resultLineIndex: searchResult == null ? void 0 : searchResult.lineIndex\n  };\n}\n\nfunction useLogViewerSelection(lines) {\n  const errorApi = useApi(errorApiRef);\n  const [sel, setSelection] = useState();\n  const start = sel ? Math.min(sel.start, sel.end) : void 0;\n  const end = sel ? Math.max(sel.start, sel.end) : void 0;\n  const [{ error }, copyToClipboard] = useCopyToClipboard();\n  useEffect(() => {\n    if (error) {\n      errorApi.post(error);\n    }\n  }, [error, errorApi]);\n  return {\n    shouldShowButton(line) {\n      return start === line || end === line;\n    },\n    isSelected(line) {\n      if (!sel) {\n        return false;\n      }\n      return start <= line && line <= end;\n    },\n    setSelection(line, add) {\n      if (add) {\n        setSelection(\n          (s) => s ? { start: s.start, end: line } : { start: line, end: line }\n        );\n      } else {\n        setSelection(\n          (s) => (s == null ? void 0 : s.start) === line && (s == null ? void 0 : s.end) === line ? void 0 : { start: line, end: line }\n        );\n      }\n    },\n    copySelection() {\n      if (sel) {\n        const copyText = lines.slice(Math.min(sel.start, sel.end) - 1, Math.max(sel.start, sel.end)).map((l) => l.chunks.map((c) => c.text).join(\"\")).join(\"\\n\");\n        copyToClipboard(copyText);\n        setSelection(void 0);\n      }\n    }\n  };\n}\n\nfunction RealLogViewer(props) {\n  const classes = useStyles({ classes: props.classes });\n  const listRef = useRef(null);\n  const processor = useMemo(() => new AnsiProcessor(), []);\n  const lines = processor.process(props.text);\n  const search = useLogViewerSearch(lines);\n  const selection = useLogViewerSelection(lines);\n  const location = useLocation();\n  useEffect(() => {\n    if (search.resultLine !== void 0 && listRef.current) {\n      listRef.current.scrollToItem(search.resultLine - 1, \"center\");\n    }\n  }, [search.resultLine]);\n  useEffect(() => {\n    if (location.hash) {\n      const line = parseInt(location.hash.replace(/\\D/g, \"\"), 10);\n      selection.setSelection(line, false);\n    }\n  }, []);\n  const handleSelectLine = (line, event) => {\n    selection.setSelection(line, event.shiftKey);\n  };\n  return /* @__PURE__ */ React.createElement(AutoSizer, null, ({ height, width }) => /* @__PURE__ */ React.createElement(Box, { style: { width, height }, className: classes.root }, /* @__PURE__ */ React.createElement(Box, { className: classes.header }, /* @__PURE__ */ React.createElement(LogViewerControls, { ...search })), /* @__PURE__ */ React.createElement(\n    FixedSizeList,\n    {\n      ref: listRef,\n      className: classes.log,\n      height: height - HEADER_SIZE,\n      width,\n      itemData: search.lines,\n      itemSize: 20,\n      itemCount: search.lines.length\n    },\n    ({ index, style, data }) => {\n      const line = data[index];\n      const { lineNumber } = line;\n      return /* @__PURE__ */ React.createElement(\n        Box,\n        {\n          style: { ...style },\n          className: classNames(classes.line, {\n            [classes.lineSelected]: selection.isSelected(lineNumber)\n          })\n        },\n        selection.shouldShowButton(lineNumber) && /* @__PURE__ */ React.createElement(\n          IconButton,\n          {\n            \"data-testid\": \"copy-button\",\n            size: \"small\",\n            className: classes.lineCopyButton,\n            onClick: () => selection.copySelection()\n          },\n          /* @__PURE__ */ React.createElement(CopyIcon, { fontSize: \"inherit\" })\n        ),\n        /* @__PURE__ */ React.createElement(\n          \"a\",\n          {\n            role: \"row\",\n            target: \"_self\",\n            href: `#line-${lineNumber}`,\n            className: classes.lineNumber,\n            onClick: (event) => handleSelectLine(lineNumber, event),\n            onKeyPress: (event) => handleSelectLine(lineNumber, event)\n          },\n          lineNumber\n        ),\n        /* @__PURE__ */ React.createElement(\n          LogLine,\n          {\n            line,\n            classes,\n            searchText: search.searchText,\n            highlightResultIndex: search.resultLine === lineNumber ? search.resultLineIndex : void 0\n          }\n        )\n      );\n    }\n  )));\n}\n\nexport { RealLogViewer };\n//# sourceMappingURL=RealLogViewer-65b49fde.esm.js.map\n","import { useCallback, useState } from 'react';\nimport { useIsMounted } from \"../useIsMounted/useIsMounted.js\";\n/**\n * Like `useState` but its state setter is guarded against setting the state of an unmounted component.\n */\nexport function useSafeState(initialState) {\n    var _a = useState(initialState), state = _a[0], setState = _a[1];\n    var isMounted = useIsMounted(true);\n    return [\n        state,\n        useCallback(function (value) {\n            if (isMounted())\n                setState(value);\n            // eslint-disable-next-line react-hooks/exhaustive-deps\n        }, []),\n    ];\n}\n"],"sourceRoot":""}